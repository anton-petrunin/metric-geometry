\refstepcounter{chapter}
\setcounter{eqtn}{0}

\parbf{\ref{ex:quad-inq}.}
Add four triangle inequalities (\ref{metric:triangle}).

\parbf{\ref{ex:normal}.}
Consider the function 
\[f(x)=\frac{\distfun_Ax}{\distfun_Ax+\distfun_Bx},\]
where $\distfun_Ax\z\df\inf_{a\in A}\dist{a}{x}{}$.
Show that $f$ is continuous and satisfies the needed property.

\parbf{\ref{ex:tietze}.}
Use \ref{ex:normal} to construct an approximation of the needed function and pass to a limit.
Alternatively, read about the \textit{Tietze extension theorem}.

\parbf{\ref{ex:pseudo-infty-metric}};\ref{SHORT.ex:pseudo-infty-metric:pseudo}.
Note that if $\mu(A)=\mu(B)=0$, then $|A-B|=0$.
Therefore, \ref{metric=0} does not hold for bounded closed subsets.
It is straightforward to check that for bounded measurable sets the remaining conditions in~\ref{def:metric} hold true.

\parit{\ref{SHORT.ex:pseudo-infty-metric:infty}.}
Note that the distance from the empty set to the whole plane is infinite; so the value $|A-B|$ might be infinite.
It is straightforward to check the remaining conditions in~\ref{def:metric}.

\parit{Remark.}
Metrics of the form $\dist{A}{B}{}=\mu(A\bigtriangleup B)$ are very special.
In particular, they satisfy the so called \index{hypermetric inequality}\emph{hypermetric inequalities}; that is, for any sequence of sets $A_1,\dots A_n$ and any sequence of integers $b_1,\dots,b_n$ such that $\sum_ib_i=1$ we have
\[\sum_{i,j}b_i\cdot b_j\cdot \dist{A_i}{A_j}{}\le 0.\]
Note that for $n=3$ and $b_1=b_2=-b_3=1$ we get the usual triangle inequality.
For more on the subject, see \cite{deza-laurent}.

\parbf{\ref{ex:almost-min}.}
Assume the statement is wrong. 
Then for any point $x\in \spc{X}$, there is a point $x'\in \spc{X}$ such that 
\begin{align*}
\dist{x}{x'}{}&<\rho(x)
\intertext{and}
\rho(x')&\le\frac{\rho(x)}{1+\eps}.
\end{align*}
Consider a sequence $x_n$ of points such that $x_{n+1}\z=x_n'$.
Clearly
\begin{align*}
\dist{x_{n+1}}{x_n}{}
&\le
\frac{\rho(x_0)}{\eps\cdot(1+\eps)^n}
\intertext{and}
\rho(x_n)
&\le \frac{\rho(x_0)}{(1+\eps)^n}.
\end{align*}
Therefore, the sequence $x_n$ is Cauchy.
Since $\spc{X}$ is complete, $x_n$ converges;
denote its limit by $x_\infty$.
Since $\rho$ is a continuous function we get
\begin{align*}
\rho(x_\infty)&=\lim_{n\to\infty}\rho(x_n)=0.
\end{align*}

The latter contradicts that $\rho>0$.

\parbf{\ref{ex:complete-completion}.}
Let $\bar {\spc{X}}$ be the completion of $\spc{X}$.
By the definition, for any $y\in \bar {\spc{X}}$ there is a Cauchy sequence $x_n$ in  $\spc{X}$ that converges to $y$.

Choose a Cauchy sequence $y_m$ in $\bar {\spc{X}}$.
From above, we can choose points $x_{n,m}\in \spc{X}$ such that $x_{n,m}\to y_m$ for any $m$.
Choose $z_m=x_{n_m,m}$ such that $|y_m-z_m|<\tfrac1m$.
Observe that $z_m$ is Cauchy.
Therefore, its limit $z_\infty$ lie in $\bar{\spc{X}}$.
Finally, show that $x_m\to z_\infty$.

\parbf{\ref{ex:compact-net}.}
A compact $\eps$-net $N$ in $\spc{K}$ contains a finite $\eps$ net $F$.
Show and use that $F$ is a $2\cdot\eps$-net of $\spc{K}$.

\parbf{\ref{ex:non-contracting-map}.}
Given a pair of points $x_0,y_0\in \spc{K}$, 
consider two sequences $x_0,x_1,\dots$ and $y_0,y_1,\dots$
such that $x_{n+1}=f(x_n)$ and $y_{n+1}\z=f(y_n)$ for each $n$.

Since $\spc{K}$ is compact, 
we can choose an increasing sequence of integers $n_k$
such that both sequences $(x_{n_i})_{i=1}^\infty$ and $(y_{n_i})_{i=1}^\infty$
converge.
In particular, both are Cauchy;
that is,
\[
|x_{n_i}-x_{n_j}|_{\spc{K}}, |y_{n_i}-y_{n_j}|_{\spc{K}}\to 0
\]
as $\min\{i,j\}\to\infty$.

Since $f$ is distance-noncontracting, we get
\[
|x_0-x_{|n_i-n_j|}|
\le 
|x_{n_i}-x_{n_j}|.
\]

It follows that  
there is a sequence $m_i\to\infty$ such that
\[
x_{m_i}\to x_0\quad\text{and}\quad y_{m_i}\to y_0\quad\text{as}\quad i\to\infty.
\leqno({*})\]

Set \[\ell_n=|x_n-y_n|_{\spc{K}}.\]
Since $f$ is distance-noncontracting, the sequence $(\ell_n)$ is nondecreasing.

By $({*})$,  $\ell_{m_i}\to\ell_0$ as $m_i\to\infty$.
It follows that $(\ell_n)$ is a constant sequence.

In particular, 
\[|x_0-y_0|_{\spc{K}}=\ell_0=\ell_1=|f(x_0)-f(y_0)|_{\spc{K}}\]
for any pair of points $(x_0,y_0)$ in $\spc{K}$.
That is, the map $f$ is distance-preserving and, in particular, injective.

From $({*})$, we also get that $f(\spc{K})$ is everywhere dense.
Since $\spc{K}$ is compact $f\:\spc{K}\to \spc{K}$ is surjective --- hence the result.

\parit{Remarks.}
This is a basic lemma in the introduction to Gromov--Hausdorff distance \cite[see 7.3.30 in][]{burago-burago-ivanov}.
The presented proof is not quite standard,
I learned it from Travis Morrison, 
a student in my MASS class at Penn State, Fall 2011.

Note that this exercise implies that \textit{any surjective non-expanding map from a compact metric space to itself is an isometry}. 

\parbf{\ref{ex:loc-compact-not-proper}.} Consider an infinite discrete space.

\parbf{\ref{ex:pogorelov}.}
The conditions \ref{SHORT.metric>=0}--\ref{SHORT.metric:sym} in Definition \ref{def:metric} are evident.

Set $B_p=B(x,\tfrac \pi2)_{\mathbb{S}^2}$.
The triangle inequality \ref{SHORT.metric:triangle} follows since
\[
(B_x\setminus B_y)
\cup 
(B_y\setminus B_z)
\supseteq
B_x\setminus B_z.
\leqno(*)\]

{

\begin{wrapfigure}{o}{25 mm}
\vskip-2mm
\centering
\includegraphics{mppics/pic-29}
\end{wrapfigure}

Observe that
$B_x\setminus B_y$
does not overlap with
$B_y\setminus B_z$ and  we get equality in $(*)$ if and only if $y$ lies on the great circle arc from $x$ to $z$.
Therefore, the second statement follows.

}

\parit{Remarks.}
This construction was given by 
Aleksei Pogorelov \cite{pogorelov}.
It is closely related to the construction given 
by David Hilbert \cite{hilbert}
which was the motivating example for his 4-th problem. 
See also the remark after the solution of \ref{ex:pseudo-infty-metric}.

\parbf{\ref{ex:4-point-trees}.}
Without loss of generality, we may assume that non of the points $p,x,y,z$ lie on a geodesic between the other two.

Let $K$ be the set in the tree covered by all six geodesics with the endpoints $p,x,y,z$.
Observe that $K$ looks like an H or like an X; make a conclusion.

\parit{Remarks.}
In fact, a four-point metric space admits an isometric embedding into a metric tree if and only if one of these two equivalent conditions holds.
Moreover, a finite metric space admits an isometric embedding into a metric tree if every its 4-point subspace admits such embedding.

The value $\tfrac12\cdot(|p-x|+|p-y|-|x-y|)$ is called \index{Gromov's product}\emph{Gromov's product} of $x$ and $y$ with the origin at $p$;
usually it is denoted by $(x|y)_p$.

\parbf{\ref{ex:spheres-in-trees}.}
Apply \ref{ex:4-point-trees}.


\parbf{\ref{ex:no-geod}.}
Formally speaking, a one-point space is a solution,
but we will construct a nontrivial example.

Consider the unit ball $(B,\rho_0)$
in the space $c_0$ of all sequences converging to zero equipped with the sup-norm.

Consider another metric $\rho_1$ which is different from $\rho_0$ by the conformal factor
\[\phi(\bm{x})=2+\tfrac{1}2\cdot x_1+\tfrac{1}4\cdot x_2+\tfrac{1}8\cdot x_3+\dots,\]
where $\bm{x}=(x_1,x_2\,\dots)\in B$.
That is, if $t\mapsto\bm{x}(t)$ for $t\in[0,\ell]$ is a curve parametrized by $\rho_0$-length,
then its $\rho_1$-length is defined by
\[\length_{\rho_1}\bm{x}\df\int\limits_0^\ell\phi\circ\bm{x}(t)\cdot dt.\]
Note that the metric $\rho_1$ is bilipschitz to~$\rho_0$.

Assume $t\mapsto \bm{x}(t)$ and $t\mapsto \bm{x}'(t)$ are two curves parametrized by $\rho_0$-length that differ only in the $m$-th coordinate; denote them by $x_m(t)$ and $x_m'(t)$ respectively.
Note that if $x'_m(t)\le x_m(t)$ for any $t$ and 
the function $x'_m(t)$ is locally $1$-Lipschitz at all $t$ such that $x'_m(t)< x_m(t)$, then 
\[\length_{\rho_1}\bm{x}'\le \length_{\rho_1}\bm{x}.\]
Moreover, this inequality is strict if $x'_m(t)\z< x_m(t)$ for some~$t$.

Fix a curve $\bm{x}(t)$, $t\in[0,\ell]$, parametrized by  $\rho_0$-length.
We can choose large $m$ so that $x_m(t)$ is sufficiently close to $0$ for any~$t$.
In this case, it is easy to construct a function $t\mapsto x'_m$ that meets the above properties.
It follows that for any curve $\bm{x}(t)$ in $(B,\rho_1)$, we can find a shorter curve $\bm{x}'(t)$ with the same endpoints.
In particular, $(B,\rho_1)$ has no geodesics.

\parit{Remark.}
This solution was suggested by Fedor Nazarov~\cite{nazarov}.

\parbf{\ref{ex:compact+connceted}.}
Choose a sequence of positive numbers $\varepsilon_n\to 0$ and a finite $\varepsilon_n$-net $N_n$ of $K$ for each $n$.
Assume $N_0$ is a one-point set, so $\eps_0>\diam K$.
If $\dist{x}{y}{}<\eps_k$ for some $x\in N_{k+1}$ and $y\in N_{k}$, then connect them by a curve of length at most $\eps_k$.

Consider the union $K'$ of all these curves with $K$; observe that $K'$ is compact and path-connected.

\parit{Source:} This problem was suggested by Eugene Bilokopytov \cite{bilokopytov}.

\parbf{\ref{ex:compact=>complete}.}
Choose a Cauchy sequence $x_n$ in $(\spc{X},\|*\z-*\|)$; it is sufficient to show that a subsequence of $x_n$ converges.

Note that the sequence $x_n$ is Cauchy in $(\spc{X},|*-*|)$;
denote its limit by $x_\infty$.

Passing to a subsequence, we can assume that $\|x_n-x_{n+1}\|\z<\tfrac1{2^n}$.
It follows that there is a 1-Lipschitz path $\gamma$ in $(\spc{X},\|*-*\|)$ such that $x_n=\gamma(\tfrac1{2^n})$ for each $n$ and $x_\infty=\gamma(0)$.

It follows that
\begin{align*}
\|x_\infty-x_n\|&\le \length\gamma|_{[0,\frac1{2^n}]}\le
\\
&\le \tfrac1{2^n}.
\end{align*}
In particular, $x_n$ converges to $x_\infty$ in $(\spc{X},\|*\z-*\|)$.

\parit{Source:} \cite[Corollary]{hu-kirk}; see also \cite[Lemma 2.3]{petrunin-stadler}.

\parbf{\ref{ex:eps-nbhd(ball)}.}
Denote by $U$ the $\eps$-neighborhood of $\oBall(x,R)_M$.
By the triangle inequality, $U\z\subset \oBall(x,R+\eps)_M$;
this inclusion holds in any metric space.

Choose $y\in \oBall(x,R+\eps)_M$, so $\dist{x}{y}{M}\z<R+\eps$.
Since $M$ is a length space, there is a curve $\gamma$ from $x$ to $y$ with length less than $R+\eps$.
Show and use that $\gamma$ contains a point $m$ such that $\dist{x}{m}{M}<R$ and $\dist{y}{m}{M}<\eps$.

\parbf{\ref{exercise from BH}.}
Consider the following subset of $\RR^2$ equipped with the induced length metric
\[
\spc{X}
=
\bigl((0,1]\times\{0,1\}\bigr)
\cup
\bigl(\{1,\tfrac12,\tfrac13,\dots\}\times[0,1]\bigr)
\]
Note that $\spc{X}$ is locally compact and geodesic.

Its completion $\bar{\spc{X}}$ is isometric to the closure of $\spc{X}$ equipped with the induced length metric.
Note that $\bar{\spc{X}}$ is obtained from $\spc{X}$ by adding two points $p=(0,0)$ and $q\z=(0,1)$.

{

\begin{wrapfigure}{r}{20 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-1}
\end{wrapfigure}

Observe that $p$ admits no compact neighborhood in $\bar{\spc{X}}$ 
and there is no geodesic connecting $p$ to $q$ in~$\bar{\spc{X}}$. 

\parit{Source:} \cite[I.3.6(4)]{bridson-haefliger}.

}

\parbf{\ref{ex:gross}.}
If such a number does not exist, then the ranges of average distance functions have an empty intersection.
Since $\spc{X}$ is a compact length space, the range of any continuous function on $\spc{X}$ is a closed interval.
By 1-dimensional Helly's theorem, there is a pair of such range intervals that do not intersect.
That is, for two point-arrays $(x_1,\dots,x_n)$ and $(y_1,\dots,y_m)$
and their average distance functions 
\begin{align*}
f(z)&=\tfrac1n\cdot\sum_i|x_i-z|_{\spc{X}}
\intertext{and}
h(z)&=\tfrac1m\cdot\sum_j|y_j-z|_{\spc{X}},
\end{align*}
we have 
$$\min_{z\in \spc{X}}\{\,f(z)\,\}
>\max_{z\in \spc{X}}\{\,h(z)\,\}.
\leqno({*})$$

Note that
\begin{align*}\tfrac1m\cdot\sum_j f(y_j)&=\tfrac1{m\cdot n}\cdot\sum_{i,j}|x_i-y_j|_{\spc{X}}=
\\
&=\tfrac1n\cdot\sum_i h(x_i);
\end{align*}
that is, the average value of $f(y_j)$ coincides with the average value of $h(x_i)$, 
which contradicts~$({*})$.

\parit{Remark.}
The value $\ell$ is uniquely defined;
it is called the \index{rendezvous value}\emph{rendezvous value} of ${\spc{X}}$.
This is a result of Oliver Gross \cite{gross}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
