\chapter{Universal spaces}\label{chap:urysohn}

The Urysohn space is the main hero of this lecture.
It shares some fundamental properties with classical spaces (spheres, Euclidean, and Lobachevsky spaces),
but also has many counterintuitive properties.

This space often serves as a counterexample to plausible conjectures,
so it is worth to know it.
In addition, this space is beautiful.



\section{Embedding in a normed space}

Recall that a function $v\mapsto |v|$ on a vector space $\spc{V}$ is called \index{norm}\emph{norm} if it satisfies the following condition for any two vectors $v,w\in \spc{V}$ and a scalar $\alpha$:
\begin{itemize}
\item $|v|\ge 0$;
\item $|\alpha\cdot v|=|\alpha|\cdot |v|$;
\item $|v|+|w|\ge|v+w|$.
\end{itemize}

As an example, consider \index{$\ell^\infty$}$\ell^\infty$ --- the space of real sequences equipped with \index{sup-norm}\emph{sup-norm}; that is, the norm of $\bm{a}=(a_1,a_2,\dots)$ is defined by
\[|\bm{a}|_{\ell^\infty}
\df
\sup_n\{\,|a_n|\,\}.\]


It is straightforward to check that for any normed space the function $(v,w)\mapsto |v-w|$ defines a metric on it.
Therefore, any normed space is an example of metric space;
moreover, it is a geodesic space.
Often we do not distinguish normed space from the corresponding metric space.
(By the Mazur--Ulam theorem, the metric remembers the affine structure of the space; so, to recover the original normed space we only need to specify the origin.
A slick proof of this theorem was given by Jussi V\"{a}is\"{a}l\"{a} \cite{vaisala}.)

Recall that \index{diameter}\emph{diameter} of a metric space $\spc{X}$ (briefly $\diam \spc{X}$) is defined as the least upper bound on the distances between pairs of its points;
that is,
\[\diam \spc{X}
\df
\sup\set{\dist{x}{y}{\spc{X}}}{x,y\in \spc{X}}.\]
If $\diam\spc{X}<\infty$, then the space $\spc{X}$ is called \index{bounded space}\emph{bounded}.



\begin{thm}{Lemma}\label{lem:frechet}
Suppose $\spc{X}$ is a bounded \index{separable space}\emph{separable} metric space;
that is, $\spc{X}$ contains a countable, dense set, say $\{w_n\}$.
Given $x\in \spc{X}$, set $a_n(x)=\dist{w_n}{x}{\spc{X}}$.
Then 
\[\iota\:x\mapsto (a_1(x), a_2(x),\dots)\]
defines a distance-preserving embedding $\iota\:\spc{X}\hookrightarrow \ell^\infty$.
\end{thm}

\parit{Proof.} 
By the triangle inequality 
\[|a_n(x)-a_n(y)|\le \dist{x}{y}{\spc{X}}.\eqlbl{eq:a-a=<dist}\]
Therefore, $\iota$ is \index{short map}\emph{short} (in other words, $\iota$ is distance-expanding).

Again by triangle inequality we have 
\[|a_n(x)-a_n(y)|\ge \dist{x}{y}{\spc{X}}-2\cdot\dist{w_n}{x}{\spc{X}}.\]
Since the set $\{w_n\}$ is dense, we can choose $w_n$ arbitrarily close to $x$.
Whence 
\[\sup_n\{\,|a_n(x)-a_n(y)|\,\}\ge \dist{x}{y}{\spc{X}};\eqlbl{eq:a-a>=dist}\]
that is, $\iota$ is distance-noncontracting.

Finally, observe that \ref{eq:a-a=<dist} and \ref{eq:a-a>=dist} imply the lemma.
\qeds

\begin{thm}{Exercise}\label{ex:compact-length}
Show that any compact metric space $\spc{K}$ is isometric to a subspace of a compact geodesic space. 
\end{thm}

The following exercise generalizes the lemma to arbitrary separable spaces.

\begin{thm}{Exercise}\label{ex:frechet}
Suppose $\{w_n\}$ is a countable, dense set in a metric space $\spc{X}$.
Choose $x_0\in \spc{X}$;
given $x\in \spc{X}$, set 
\[a_n(x)=\dist{w_n}{x}{\spc{X}}-\dist{w_n}{x_0}{\spc{X}}.\]
Show that $\iota\:x\mapsto (a_1(x), a_2(x),\dots)$ defines a distance-preserving embedding $\iota\:\spc{X}\hookrightarrow \ell^\infty$.

Conclude that any separable metric space $\spc{X}$ admits a distance-preserving embedding $\iota\:\spc{X}\hookrightarrow \ell^\infty$.
\end{thm}

The following lemma implies that {}\textit{any metric space is isometric to a subset of a normed vector space};
its proof is nearly identical to the proof of \ref{ex:frechet}.
Given a set $\spc{X}$, denote by \index{$\ell^\infty(\spc{X})$}$\ell^\infty(\spc{X})$ the space of all bounded functions on $\spc{X}$ equipped with sup-norm; 
that is,
\[|f-g|_{\ell^\infty}=\sup\set{|f(x)-f(x)}{x\in \spc{X}}.\]

\begin{thm}{Lemma}\label{lem:kuratowski}
Let $x_0$ be a point in a metric space $\spc{X}$.
Then the map $\iota\:\spc{X}\to \ell^\infty(\spc{X})$ defined by 
\[\iota\:x\mapsto (\distfun_x-\distfun_{x_0})\]
is distance-preserving.

In particular, any metric space $\spc{X}$ admits a distance-preserving into $\ell^\infty(\spc{X})$.
\end{thm}

\section{Extension property}
\label{sec:Extension property}

If a metric space $\spc{X}$ is a subspace of a semimetric space $\spc{X}'$, then we say that $\spc{X}'$ is an \index{extension}\emph{extension} of $\spc{X}$.
If in addition, $\diam\spc{X}'\le d$, then we say that $\spc{X}'$ is a {}\emph{$d$-extension}.

If the complement $\spc{X}'\setminus \spc{X}$ contains a single point, say $p$, then $\spc{X}'$ is called a \index{one-point extension}\emph{one-point extension} of $\spc{X}$.
In this case, to define a metric on $\spc{X}'$, it is sufficient to specify the distance function from $p$; that is, a function $f\:\spc{X}\to\RR$ defined by 
\[f(x)\df\dist{p}{x}{\spc{X}'}.\]
Any function $f$ of that type will be called an \index{extension function}\emph{extension function}\label{page:extension function} or {}\emph{$d$-extension function} respectively.

The extension function $f$ cannot be taken arbitrarily --- the triangle inequality implies that 
\[f(x)+f(y)\ge \dist{x}{y}{\spc{X}}\ge |f(x)-f(y)|\]
for any $x,y\in \spc{X}$.
In particular, $f$ is a non-negative 1-Lipschitz function on $\spc{X}$.
For a $d$-extension, we need to assume in addition that $\diam\spc{X}\z\le d$ and $f(x)\le d$ for any $x\in \spc{X}$.
A straightforward check shows that these conditions are necessary and sufficient.

\begin{thm}{Exercise}\label{ex:extension-of-extension}
Let $\spc{X}$ be a subspace of metric space $\spc{Y}$.
Assume $f$ is an extension function on $\spc{X}$.

\begin{subthm}{ex:extension-of-extension:a}
Show that 
\[\bar f(y)
\df
\inf_{x\in \spc{X}} \{\,f(x)+\dist{x}{y}{\spc{Y}}\,\}\]
defines an extension function on $\spc{Y}$.
\end{subthm}

\begin{subthm}{}
Assume that $\diam \spc{Y}\le d$ and $f(x)\le d$ for any $x\in  \spc{X}$.
Show that 
\[\bar f_d
\df
\min \{\, \bar f,d\,\}\]
is a $d$-extension function on $\spc{Y}$.
\end{subthm}

\end{thm}

The functions $\bar f$ and $\bar f_d$ in the above exercise are called \index{Katětov extensions}\emph{Katětov extensions} of $f$ and the minimal possible $\spc{X}$ is called its \index{support of extension function}\emph{support}, briefly \index{$\supp$}$\supp \bar f=\spc{X}$.

\begin{thm}{Definition}\label{def:finite+1}
A metric space $\spc{U}$ meets the \index{extension property}\emph{extension property}  if for any finite subspace $\spc{F}\subset\spc{U}$ and any extension function $f\:\spc{F}\to\RR$ there is a point $p\in \spc{U}$ such that $\dist{p}{x}{}=f(x)$ for any $x\in \spc{F}$.

If we assume in addition that $\diam \spc{U}\le d$ and instead of extension functions we consider only $d$-extension functions, then we arrive at a definition of {}\emph{$d$-extension property}.

If in addition, $\spc{U}$ is separable and complete, then it is called \index{Urysohn space}\emph{Urysohn space} or {}\emph{$d$-Urysohn space} respectively.
\end{thm}


\begin{thm}{Proposition}\label{prop:univeral-separable}
There is a separable metric space with the ($d$-) extension property (for any $d\ge 0$).
\end{thm}

\parit{Proof.}
Choose $d\ge 0$.
Let us construct a separable metric space with  the $d$-extension property.

Let $\spc{X}$ be a metric space such that $\diam\spc{X}\le d$.
Denote by $\spc{X}^d$ the space of all $d$-extension functions on $\spc{X}$ equipped with the metric defined by the sup-norm.
Note that the map $\spc{X} \to \spc{X}^d$ defined by $x\mapsto\distfun_x$ is a distance-preserving embedding,
so we can (and will) treat $\spc{X}$ as a subspace of $\spc{X}^d$; equivalently, $\spc{X}^d$ is an extension of $\spc{X}$.

Let us iterate this construction.
Start with a one-point space $\spc{X}_0$ and consider a sequence of spaces $(\spc{X}_n)$ defined by $\spc{X}_{n+1}\z\df\spc{X}_n^d$.
Note that the sequence is nested;
that is, $\spc{X}_0\subset \spc{X}_1\subset\dots$
and the union
\[\spc{X}_\infty=\bigcup_n\spc{X}_n;\]
comes with metric such that
$\dist{x}{y}{\spc{X}_\infty} = \dist{x}{y}{\spc{X}_n}$
if $x,y\in\spc{X}_n$.

Note that if $\spc{X}$ is compact, then so is $\spc{X}^d$.
It follows that each space $\spc{X}_n$ is compact.
In particular, $\spc{X}_\infty$ is a countable union of compact spaces;
therefore $\spc{X}_\infty$ is separable.

Any finite subspace $\spc{F}$ of $\spc{X}_\infty$ lies in some $\spc{X}_n$ for $n<\infty$.
By construction, given an extension function $f\:\spc{F}\to\RR$,
there is a point $p\in \spc{X}_{n+1}$ that meets the condition in \ref{def:finite+1}.
That is, $\spc{X}_\infty$ has the $d$-extension property.

The construction of a separable metric space with the extension property requires only two changes.
First, the sequence should be defined by $\spc{X}_{n+1}\z\df\spc{X}_n^{d_n}$, where $d_n$ is an increasing sequence such that $d_n\to\infty$.
Second, the point $p$ should be taken in $\spc{X}_{n+k}$ for sufficiently large $k$, so that $d_{n+k}>\max\{f(x)\}$
(here one has to apply \ref{ex:extension-of-extension:a}).%

(Alternatively, one can start with any separable space $\spc{X}_0$ and consider a nested sequence $\spc{X}_0\subset \spc{X}_1\subset{}\dots$ where $\spc{X}_{n+1}$ is the space of all extension functions on $\spc{X}_{n}$ with at most $n+1$ points in its support.
The last condition is needed to keep $\spc{X}_{n}$ separable.)
\qeds

Given a metric space $\spc{X}$, denote by $\spc{X}^\infty$ the space of all extension functions on $\spc{X}$ equipped with the metric defined by the sup-norm.

\begin{thm}{Exercise}\label{ex:inf-extension}
Construct a proper length space $\spc{X}$ such that $\spc{X}^\infty$ is not separable.
\end{thm}


\begin{thm}{Proposition}\label{prop:completion-univeral}
If a metric space $\spc{V}$ meets the ($d$-) extension property, then so does its completion.
\end{thm}

\parit{Proof.} 
Let us assume $\spc{V}$ meets the extension property.
We will show that its completion $\spc{U}=\bar{\spc{V}}$ meets the extension property as well.
The $d$-extension case can be proved along the same lines.

Note that $\spc{V}$ is a dense subset in a complete space $\spc{U}$.
Observe that $\spc{U}$ has the {}\emph{approximate extension property};
that is, if $\spc{F}\z\subset\spc{U}$ is a finite set, $\eps>0$, and $f\:\spc{F}\to \RR$ is an extension function, then
there exists $p\in \spc{U}$ such that
\[\dist{p}{x}{}\lg f(x)\pm\eps\eqlbl{eq:|p-x|><f(x)}\]
for any $x\in\spc{F}$.
Indeed, consider the Katětov extension $\bar f\:\spc{U}\to\RR$ of~$f$.
Since $\spc{V}$ is dense in $\spc{U}$, we can choose a finite set $\spc{F}'\in \spc{V}$ such that for any $x\in \spc{F}$ there is $x'\in \spc{F}'$ with $\dist{x}{x'}{}<\tfrac\eps2$.
Let $p$ be the point provided by the extension property for the restriction $\bar f|_{\spc{F}'}$.
It remains to observe $p$ meets \ref{eq:|p-x|><f(x)}.

It follows that there is a sequence of points $p_n\in \spc{U}$ such that for any $x\in \spc{F}$, 
\[\dist{p_n}{x}{}\lg f(x)\pm\tfrac1{2^n}.\]

Moreover, we can assume that 
\[\dist{p_n}{p_{n+1}}{} < \tfrac1{2^n}\eqlbl{eq:|pn-pn|}\]
for all large $n$.
Indeed, consider the sets $\spc{F}_n=\spc{F}\cup\{p_n\}$ and the functions $f_n\:\spc{F}_n\to\RR$ defined by $f_n(x)\df f(x)$ and
\[f_n(p_n)
\df
\max\set{\bigl|\dist{p_n}{x}{}- f(x)\bigr|}{x\in \spc{F}}\]
 if $x\ne p_n$.
Observe that $f_n$ is an extension function for large $n$ and
$f_n(p_n)\z<\tfrac1{2^n}$.
Therefore, applying the approximate extension property recursively we get~\ref{eq:|pn-pn|}.

Therefore, the sequence $p_n$ is Cauchy.
Note that its limit meets the condition in the definition of extension property (\ref{def:finite+1}).
\qeds

Note that \ref{prop:univeral-separable} and \ref{prop:completion-univeral} imply the following:

\begin{thm}{Theorem}\label{thm:urysohn-exists}
Urysohn space and $d$-Urysohn space exist for any $d>0$.
\end{thm}

Here is a slightly stronger statement:

\begin{thm}{Theorem}\label{thm:urysohn-exists+}
Any separable metric space $\spc{X}$ admits a distance-preserving embedding into an Urysohn space $\spc{U}$ such that any isometry of $\spc{X}$ can be extended to an isometry of $\spc{U}$.
\end{thm}

\parit{Sketch of proof.}
Start with $\spc{X}_0=\spc{X}$ and construct a nested sequence of spaces $\spc{X}_0\subset\spc{X}_1 \subset{}\dots$ as at the alternative end of the proof of~\ref{prop:univeral-separable}.
Note that 
any isometry $\spc{X}_n\to \spc{X}_n$ can be extended to a unique isometry $\spc{X}_{n+1}\to \spc{X}_{n+1}$.
It follows that any isometry of $\spc{X}$ can be extended to an isometry of $\spc{X}'=\bigcup_n\spc{X}_n$.

Now, consider new nested sequence $\spc{X}\subset \spc{X}'\subset \spc{X}''\subset \dots$;
denote its union by $\spc{Y}$.
Arguing as in \ref{prop:univeral-separable} and \ref{prop:completion-univeral} we get that the completion of $\spc{Y}$ is an Urysohn space, say $\spc{U}$, that comes with a distance-preserving inclusion $\spc{X}\hookrightarrow \spc{U}$.

From above, for any isometry of $\spc{X}$ can be extended to isometries of $\spc{X}'$, $\spc{X}''$ and so on.
They all define an isometry of $\spc{Y}$;
passing to its continuous extension, we get an isometry of $\spc{U}$.
\qeds


\section{Universality}

A metric space will be called \index{universal space}\emph{universal} if it has a subspace isometric to any given separable metric space.
In \ref{ex:frechet}, we proved that $\ell^\infty$ is a universal space. 
The following proposition shows that an Urysohn space is universal as well.
Unlike $\ell^\infty$, Urysohn spaces are separable;
so it might be considered as a \textit{better} universal space.
Theorem \ref{thm:compact-homogeneous} will give another reason why Urysohn spaces are better.

\begin{thm}{Proposition}\label{prop:sep-in-urys}
An Urysohn space is universal.
That is, if $\spc{U}$ is an Urysohn space, then any separable metric space $\spc{S}$ admits a distance-preserving embedding $\spc{S}\hookrightarrow\spc{U}$.

Moreover, for any finite subspace $\spc{F}\subset \spc{S}$,
any distance-preserving embedding $\spc{F}\hookrightarrow \spc{U}$ can be extended to a distance-preserving embedding $\spc{S}\hookrightarrow\spc{U}$.

A $d$-Urysohn space is $d$-universal;
that is, the above statements hold provided that $\diam\spc{S}\le d$.  
\end{thm}

\parit{Proof.}
We will prove the second statement;
the first statement is its partial case for $\spc{F}=\emptyset$.

The required isometry will be denoted by $x\mapsto x'$.

Choose a dense sequence of points $s_1,s_2,\dotsc\in\spc{S}$.
We may assume that $\spc{F}=\{s_1,\dots,s_n\}$, so $s_i'\in \spc{U}$ are defined for $i\le n$.

The sequence $s_i'$ for $i>n$ can be defined recursively using the extension property in $\spc{U}$.
Namely, suppose that $s_1',\dots,s_{i-1}'$ are already defined.
Since $\spc{U}$ meets the extension property, there is a point $s_i'\in \spc{U}$ such that
\[\dist{s_i'}{s_j'}{\spc{U}}=\dist{s_i}{s_j}{\spc{S}}\]
for any $j<i$.

The constructed map $s_i\mapsto s_i'$ is distance-preserving.
Therefore it can be continuously extended to the whole $\spc{S}$.
It remains to observe that the constructed map $\spc{S}\hookrightarrow\spc{U}$ is distance-preserving.
\qeds

\begin{thm}{Exercise}\label{ex:geodesics-urysohn}
Show that any two distinct points in an Urysohn space can be joined by an infinite number of distinct geodesics.
\end{thm}

\begin{thm}{Exercise}\label{ex:compact-extension}
Modify the proofs of \ref{prop:completion-univeral} and \ref{prop:sep-in-urys} to prove the following theorem.
\end{thm}

\begin{thm}{Theorem}\label{thm:compact-extension}
Let $K$ be a compact set in a separable space $\spc{S}$.
Then any distance-preserving map from $K$ to an Urysohn space can be extended to 
a distance-preserving map of the whole $\spc{S}$.
\end{thm}

\begin{thm}{Exercise}\label{ex:sc-urysohn}
Show that ($d$-) Urysohn space is simply-connected.
\end{thm}



\section{Uniqueness and homogeneity}

\begin{thm}{Theorem}\label{thm:urysohn-unique}
Suppose $\spc{F}\subset \spc{U}$ and $\spc{F}'\subset \spc{U}'$ be finite isometric subspaces in a pair of ($d$-)Urysohn spaces $\spc{U}$ and $\spc{U}'$.
Then any isometry $\iota\:\spc{F}\leftrightarrow \spc{F}'$ can be extended to an isometry $\spc{U}\leftrightarrow \spc{U}'$.

In particular, ($d$-)Urysohn space is unique up to isometry.
\end{thm}

Note that \ref{prop:sep-in-urys} implies that there are distance-preserving maps $\spc{U}\z\to \spc{U}'$ and $\spc{U}'\to \spc{U}$.
The next exercise shows that it does not solely imply the existence of an isometry $\spc{U}\leftrightarrow \spc{U}'$.

\begin{thm}{Exercise}\label{ex:no-isom}
Construct two metric spaces $\spc{X}$ and $\spc{Y}$ such that 
there are distance-preserving maps $\spc{X}\to \spc{Y}$ and $\spc{Y}\to \spc{X}$, but no isometry $\spc{X}\leftrightarrow \spc{Y}$.
\end{thm}


The following construction uses the idea of \ref{prop:sep-in-urys}, but it is applied \index{back-and-forth}\emph{back-and-forth} to ensure that the obtained distance-preserving map is onto.

\parit{Proof.}
Choose dense sequences $a_1,a_2,\dots{}\in \spc{U}$ and $b'_1,b'_2,\dots{}\in \spc{U}'$.
We can assume that $\spc{F}=\{a_1,\dots,a_n\}$, $\spc{F}'=\{b_1',\dots,b_n'\}$ and $\iota(a_i)=b_i'$ for $i\le n$.

The required isometry $\spc{U}\leftrightarrow \spc{U}'$ will be denoted by $u \leftrightarrow u'$.
Set $a_i=b_i$ and $a'_i=b'_i$ if $i\le n$.

Let us define recursively $a_{n+1}',b_{n+1}, a_{n+2}', b_{n+2},\dots$ --- on the odd step we define the images of $a_{n+1},a_{n+2},\dots$ and on the even steps we define inverse images of $b'_{n+1},b'_{n+2},\dots$
The same argument as in the proof of \ref{prop:sep-in-urys} shows that we can construct two sequences $a_1',a_2',\dots{}\in \spc{U}'$ and $b_1,b_2,\dots\in \spc{U}$ such that
\begin{align*}
\dist{a_i}{a_j}{\spc{U}}&=\dist{a_i'}{a_j'}{\spc{U}'},
\\
\dist{a_i}{b_j}{\spc{U}}&=\dist{a_i'}{b_j'}{\spc{U}'},
\\
\dist{b_i}{b_j}{\spc{U}}&=\dist{b_i'}{b_j'}{\spc{U}'}
\end{align*}
for all $i$ and $j$.

It remains to observe that the constructed distance-preserving bijection defined by $a_i\leftrightarrow a_i'$ and $b_i\leftrightarrow b_i'$ extends
continuously to an isometry $\spc{U}\leftrightarrow \spc{U}'$. 
\qeds

Observe that \ref{thm:urysohn-unique} implies that the Urysohn space (as well as the $d$-Urysohn space) is \index{homogeneous}\emph{finite-set-homogeneous}; that is,
\begin{itemize}
 \item any distance-preserving map from a finite subset to the whole space can be extended to an isometry.
\end{itemize}

Recall that $S(p,r)_{\spc{X}}$ denotes the sphere of radius $r$ centered at $p$ in a metric space $\spc{X}$;
that is, 
$$S(p,r)_{\spc{X}}=\set{x\in \spc{X}}{\dist{p}{x}{\spc{X}}=r}.$$

\begin{thm}{Exercise}\label{ex:sphere-in-urysohn}
Choose $d\in [0,\infty]$.
Denote by $\spc{U}_d$ the $d$-Urysohn space,
so $\spc{U}_\infty$ is the Urysohn space.

\begin{subthm}{ex:sphere-in-urysohn:sphere}
Assume that $L=S(p,r)_{\spc{U}_d}\ne \emptyset$.
Show that $L$ is isometric to $\spc{U}_{\ell}$; find $\ell$ in terms of $r$ and $d$.
\end{subthm}

\begin{subthm}{ex:sphere-in-urysohn:midpoint}
Let $\ell=\dist{p}{q}{\spc{U}_d}$.
Show that the subset $M\subset\spc{U}_d$ of midpoints between $p$ and $q$ is isometric to $\spc{U}_\ell$.
\end{subthm}

\begin{subthm}{ex:sphere-in-urysohn:homogeneous}
Show that $\spc{U}_d$ is \emph{not} countable-set-homogeneous;
that is, there is a distance-preserving map from a countable subset of $\spc{U}_d$ to $\spc{U}_d$ that cannot be extended to an isometry of $\spc{U}_d$.
\end{subthm}

\end{thm}

In fact, the Urysohn space is compact-set-homogeneous; more precisely the following theorem holds.

\begin{thm}{Theorem}\label{thm:compact-homogeneous}
Let $K$ be a compact set in a ($d$-)Urysohn space~$\spc{U}$.
Then any distance-preserving map $K\to \spc{U}$ can be extended to an isometry of $\spc{U}$.
\end{thm}

A proof can be obtained by modifying the proofs of \ref{prop:completion-univeral} and \ref{thm:urysohn-unique}
the same way as it is done in \ref{ex:compact-extension}.

\begin{thm}{Exercise}\label{ex:shere}
Let $S$ be a unit sphere in the Urysohn space $\spc{U}$.
Show that for any two distinct points $x,y\in \spc{U}$ there is a point $z\in S$ such that 
$\dist{x}{z}{}\ne \dist{y}{z}{}$.

Conclude that two isometries of $\spc{U}$ coincide if they coincide on $S$.
\end{thm}

\begin{thm}{Exercise}\label{ex:ext(shere)}
Let $B$ be an open unit ball in the Urysohn space $\spc{U}$.
Show that $\spc{U}\setminus B$ is isometric to $\spc{U}$.

Use it to construct an isometry of a unit sphere $S$ in $\spc{U}$ that cannot be extended to an isometry of $\spc{U}$.
\end{thm}

\begin{thm}{Exercise}\label{ex:katetov}

\begin{subthm}{ex:katetov:inclusion}
Show that there is a distance-preserving inclusion of the Urysohn space $\iota\:\spc{U}\hookrightarrow \spc{U}$ 
such that $\spc{U}'=\iota(\spc{U})$ is nowhere dense in $\spc{U}$ and any isometry of $\spc{U}'$ 
can be extended to an isometry of the whole~$\spc{U}$.
\end{subthm}

\begin{subthm}{ex:katetov:sol}
Consider a nested sequence $\spc{U}_0\subset \spc{U}_1\subset\dots$ of Urysohn spaces 
with each inclusion $\spc{U}_n\hookrightarrow \spc{U}_{n+1}$ as in \ref{SHORT.ex:katetov:inclusion}.
Show that the union $\bigcup_n\spc{U}_n$ is a noncomplete finite-set-homogeneous metric space that meets the extension property.
\end{subthm}

\end{thm}

{\sloppy

\begin{thm}{Exercise}\label{ex:homogeneous}
Which of the following metric spaces are 
one-point-homogeneous, finite-set-homogeneous, compact-set-homogeneous, countable-set-homogeneous?

\begin{subthm}{ex:homogeneous:euclidean}
Euclidean plane,
\end{subthm}

\begin{subthm}{ex:homogeneous:hilbert}
 Hilbert space $\ell^2$,
\end{subthm}

\begin{subthm}{ex:homogeneous:ell-infty}
 $\ell^\infty$,
\end{subthm}

\begin{subthm}{ex:homogeneous:ell-1}
 \index{$\ell^1$}$\ell^1$ --- the space of all real absolutely converging series $\bm{a}\z=(a_1,a_2,\dots)$ with the norm $|\bm{a}|_{\ell^1}=\sum_i|a_i|$.
 
\end{subthm}
\end{thm}

}

\begin{thm}{Exercise}\label{ex:homogeneous-tree}
Show that any separable one-point-homogeneous metric tree is isometric to the real line $\RR$ or the one-point space.
\end{thm}


\section{Remarks}

The statement in \ref{ex:frechet} was proved by Maurice René Fréchet in the paper where he first defined metric spaces \cite{frechet};
its extension \ref{lem:kuratowski} was given by Kazimierz Kuratowski~\cite{kuratowski}.

The following two exercises show that in this respect $\ell^\infty$ is very different from $\ell^1$.
For more on the subject, see \cite{deza-laurent}.

Let $S$ be a subset of $X$.
The \index{cut metric}\emph{cut metric} $\delta_S$ on $X$ is a semimetric such that $\delta_S(x, y) = 1$ if $x$ and $y$ are separated
by $S$ and otherwise $\delta_S(x, y) = 0$.


\begin{thm}{Exercise}\label{ex:cut}
Show that a finite metric space $\spc{F}$ admits a distance-preserving embedding into $\ell^1$ if and only if the metric of $\spc{F}$ can be written as a nonnegative linear combination%
\footnote{that is, linear combination with nonnegative coefficients.} of cut metrics on $\spc{F}$.
\end{thm}

Recall that the vertex set of any graph $\Gamma$ comes with the shortest-path distance ---
the distance between two vertices is the minimal number of edges in a path connecting them.

\begin{wrapfigure}{r}{15mm}
\vskip-8mm
\centering
\includegraphics{mppics/pic-210}
\end{wrapfigure}

\begin{thm}{Exercise}\label{ex:K23}
Use \ref{ex:cut} to show that the metric for complete biparted graph $K_{2,3}$ (see the diagram) does not admit a distance-preserving embedding into $\ell^1$.
\end{thm}

The question about existence of a separable universal space was posed by Maurice René Fréchet and answered by
Pavel Urysohn~\cite{urysohn}.
Exercise \ref{ex:katetov} answers a question posed by Pavel Urysohn \cite[§$2(6)$]{urysohn}.
It was solved by Miroslav Katětov \cite{katetov},
but long after that, it was again mentioned as an open problem \cite[p. 83]{gromov-2007}.

The idea of Urysohn's construction was reused in graph theory; it produces the so-called \index{Rado graph}\emph{Rado graph},
also known as {}\emph{Erd\H{o}s--Rényi graph} or \emph{random graph}; see \cite{cameron}.
In fact, the Urysohn space is the random metric space in \textit{certain sense} \cite{vershik}.

\textit{The ($d$-) Urysohn space is homeomorphic to the Hilbert space};
the latter was proved by Vladimir Uspenskij \cite{uspenskij} using the so-called Toruńczyk criterion.

The finite-set-homogeneous spaces include Euclidean spaces, hyperbolic spaces, and spheres all with standard length metrics and arbitrary finite dimensions.
In fact, these are the only examples of locally compact three-point-homogeneous length spaces.
The latter was proved by Herbert Busemann \cite{busemann-1942}; it also follows from the more general result of Jacques Tits about two-point-homogeneous spaces \cite{tits}.
The same conclusion holds for complete all-set-homogeneous geodesic spaces with local uniqueness of geodesics;
it was proved by Garrett Birkhoff \cite{birkhoff}.
The answer might be the same for complete separable all-set-homogeneous length spaces.
Without the separability condition, we also get the so-called \emph{universal metric trees} with finite valence \cite{dyubina-polterovich}; no other examples seem to be known \cite{lebedeva-petrunin2211.09671}.  

{\sloppy

\begin{thm}{Exercise}\label{ex:RP-not}
Show that the real projective plane $\RP^2$ with the standard metric is two-point-homogeneous, but not three-point-homogeneous.
\end{thm}

}

\begin{thm}{Exercise}\label{ex:hom-cube}
Let $Q$ be the set of vertices on the $n$-dimensional cube;
assume $n$ is large.
Show that $Q$ is three-point-homogeneous, but not four-point-homogeneous.
\end{thm}

I do not know examples of metric spaces that are $n$-point-homogeneous, but not $(n+1)$-point-homogeneous for large $n$ \cite{petrunin-431426}.
