

\parbf{\ref{ex:gross}.}
If such a number does not exist, then the ranges of average distance functions have an empty intersection.
Since $\spc{X}$ is a compact length space, the range of any continuous function on $\spc{X}$ is a closed interval.
By 1-dimensional Helly's theorem, there is a pair of such range intervals that do not intersect.
That is, for two point-arrays $(x_1,\dots,x_n)$ and $(y_1,\dots,y_m)$
and their average distance functions 
\[f(z)=\tfrac1n\cdot\sum_i|x_i-z|_{\spc{X}}\quad\text{and}\quad h(z)=\tfrac1m\cdot\sum_j|y_j-z|_{\spc{X}},\] we have 
$$\min\set{f(z)}{z\in \spc{X}}>\max\set{h(z)}{z\in \spc{X}}.\leqno({*})$$

Note that 
$$\tfrac1m\cdot\sum_j f(y_j)=\tfrac1{m\cdot n}\cdot\sum_{i,j}|x_i-y_j|_{\spc{X}}=\tfrac1n\cdot\sum_i h(x_i);$$
that is, the average value of $f(y_j)$ coincides with the average value of $h(x_i)$, 
which contradicts $({*})$.

\parit{Remark.}
The value $\ell$ is uniquely defined;
it is called the \index{rendezvous value}\emph{rendezvous value} of ${\spc{X}}$.
This is a result of Oliver Gross \cite{gross}.

%%%%%%%%%%%%%%%%%%%%%%%%%
\refstepcounter{chapter}
\setcounter{eqtn}{0}

\parbf{\ref{ex:compact-length}.}
By the FrÃ©chet lemma (\ref{lem:frechet}) we can identify $\spc{K}$ with a compact subset of $\ell^\infty$.

Denote by $\spc{L}=\Conv\spc{K}$ --- it is defined as the minimal convex closed set in $\ell^\infty$ that contains $\spc{K}$.
(In other words, $\spc{L}$ is the minimal closed set containing $\spc{K}$ such that if $x,y\in \spc{L}$, then 
$t\cdot x+(1-t)\cdot y\in \spc{L}$ for any $t\in[0,1]$.)

Observe that $\spc{L}$ is a length space.
It remains to show that $\spc{L}$ is compact.

By construction, $\spc{L}$ is a closed subset of $\ell^\infty$; in particular, it is complete.
By \ref{totally-bounded}, it remains to show that $\spc{L}$ is totally bounded.

Recall that Minkowski sum $A + B$ of two sets $A$ and $B$ in a vector space is defined by
\[A + B = \set{a+b}{a\in A,\ b\in B}.\]
Observe that the Minkowski sum of two convex sets is convex.

Denote by $\bar B_\eps$ the closed $\eps$-ball in $\ell^\infty$ centered at the origin.
Choose a finite $\eps$-net $N$ in $\spc{K}$ for some $\eps>0$.
Note that $P=\Conv N$ is a convex polyhedron; in particular, $\Conv N$ is compact.

Observe that $N+\bar B_\eps$ is a closed $\eps$-neighborhood of $N$.
It follows that $N+\bar B_\eps\supset K$ and therefore $P+\bar B_\eps\supset \spc{L}$.
In particular, $P$ is a $2\cdot\eps$-net in $\spc{L}$;
since $P$ is compact and $\eps>0$ is arbitrary, $\spc{L}$ is totally bounded (see \ref{ex:compact-net}).

\parit{Remark.}
Alternatively, one may use that \textit{the injective envelope of a compact space is compact}; see \ref{ex:inj=complete-geodesic-contractible:geodesic}, \ref{ex:Inj(compact)}, and \ref{prop:InjX-is-injective}.

\parbf{\ref{ex:frechet}.}
Modify the proof of \ref{lem:frechet}.

\begin{wrapfigure}{r}{30mm}
\vskip-0mm
\centering
\includegraphics{mppics/pic-200}
\end{wrapfigure}

\parbf{\ref{ex:inf-extension}.}
Consider the metric tree $\spc{T}$ shown on the diagram;
it is a half-line $[0,\infty)$ with attached an interval of length $n+1$ to each integer point~$n$.
Denote by $o$ the origin of the half-line
and by $x_n$ the endpoint of $n^{\text{th}}$ interval.

Observe that if $m\ne n$, then
\[|x_m-x_n|_{\spc{T}}\ge |o-x_n|_{\spc{T}}+1.\]
Show and use that for any binary sequence $\eps_n$ there is an extension function $f$ such that 
\[f(x_n)=|o-x_n|_{\spc{T}}+\eps_n.\]


\parit{Remark.}
An if-and-only-if condition on $\spc{X}$ that have separable $\spc{X}^\infty$ was found by Julien Melleray \cite[2.8]{melleray}.
A similar condition was used by Herbert Federer to describe metric spaces where Besicovitch covering lemma holds \cite[2.8.9]{federer}.

\parbf{\ref{ex:geodesics-urysohn}.}
Choose a separable space $\spc{X}$ that has an infinite number of geodesics between a pair of points with the given distance between them;
say a square in $\RR^2$ with $\ell^\infty$-metric will do.
Apply to $\spc{X}$ universality of Urysohn space (\ref{prop:sep-in-urys}).

\parbf{\ref{ex:compact-extension}.} 
First let us prove the following claim:

\begin{itemize}
\item 
Suppose $f\: K\to\RR$ is an extension function defined on a compact subset $K$ of the Urysohn space $\spc{U}$.
Then there is a point $p\in \spc{U}$ such that 
$\dist{p}{x}{}=f(x)$ for any $x\in K$.
\end{itemize}

Without loss of generality, we may assume that $f>0$.
Since $K$ is compact, we may fix $\eps>0$ such that $f(x)>\eps$ for any $x\in K$.

Consider the sequence $\eps_n=\tfrac\eps{100\cdot 2^n}$.
Choose a sequence of $\eps_n$-nets $N_n\subset K$.
Applying universality of $\spc{U}$ recursively, we may choose a point $p_n$ such that $\dist{p_n}{x}{}=f(x)$ for any $x\in N_n$ and $\dist{p_n}{p_{n-1}}{}\z=10\cdot\eps_{n-1}$.
Observe that the sequence $p_n$ is Cauchy and its limit $p$ meets 
$\dist{p}{x}{}=f(x)$ for any $x\in K$.

Now, choose a sequence $x_n$ of points that is dense in $\spc{S}$.
Applying the claim, we may extend the map from $K$ to $K\cup\{x_1\}$, further to $K\cup\{x_1,x_2\}$, and so on.
As a result, we extend the distance-preserving map $f$ to the whole sequence $x_n$.
It remains to extend it continuously to the whole space~$\spc{S}$.

\parbf{\ref{ex:sc-urysohn}.}
It is sufficient to show that any compact subspace $\spc{K}$ of the Urysohn space $\spc{U}$ can be contracted to a point.

Note that any compact space $\spc{K}$ can be extended to a contractible compact space $\spc{K}'$; for example, we may embed $\spc{K}$ into $\ell^\infty$ and pass to its convex hull, as it was done in \ref{ex:compact-length}.

By \ref{thm:compact-homogeneous}, there is an isometric embedding of $\spc{K}'$ that agrees with the inclusion $\spc{K}\hookrightarrow\spc{U}$.
Since $\spc{K}$ is contractible in $\spc{K}'$, it is contractible in $\spc{U}$.

\parit{A better way.}
One can contract the whole Urysohn space using the following construction.

Note that points in $\spc{X}_\infty$ constructed in the proof of \ref{prop:univeral-separable} can be multiplied by $t\in [0,1]$ --- simply multiply each function by $t$.
That defines a map 
\[\lambda_t\:\spc{X}_\infty\to \spc{X}_\infty\]
that rescales all distances by factor $t$.
The map $\lambda_t$ can be extended to the completion of $\spc{X}_\infty$, which is isometric to $\spc{U}_d$ (or $\spc{U}$).

Observe that 
the map $\lambda_1$ is the identity  and $\lambda_0$ maps the whole space to a single point, say $x_0$ --- this is the only point of $\spc{X}_0$.
Further, note that $(t,p)\mapsto \lambda_t(p)$ is a continuous map; in particular, $\spc{U}_d$ and $\spc{U}$ are contractible.

As a bonus, observe that for any point $p\in \spc{U}_d$ the curve $t\mapsto \lambda_t(p)$ is a geodesic path from $p$ to $x_0$.

\parit{Source:} \cite[$\text{(d)}$ on page 82]{gromov-2007}.

\parbf{\ref{ex:no-isom}.}
Consider two infinite metric trees as on the diagram. 

\begin{figure}[ht!]
\vskip-0mm
\centering
\includegraphics{mppics/pic-205}
\end{figure}

\parit{Remark.}
A more sophisticated example: $\spc{X}=\ell^\infty$ and $\spc{Y}=L^\infty([0,1])$.
Try to prove that it qualifies; see also \cite{buehler}.
%Given a bounded sequence $\bm{a}=(a_1,a_2,\dots)$, consider the function $f$ such that $f(0)=0$ and $f(x)=a_n$ if $\tfrac1{n+1}<x\le \tfrac1n$.
%Note that $\bm{a}\mapsto f$ is a distance-preserving map $\ell^\infty\to L^\infty([0,1])$.

%Further, enumerate all subintervals of $[0,1]$ with rational ends, $I_1,I_2,\dots$
%Given a function $f\in L^\infty([0,1])$ consider sequence $\bm{a}\z=(a_1,a_2,\dots)$ such that $a_n$ is the mean value of $f$ on $I_n$.
%Observe that $f\mapsto \bm{a}$ is a distance-preserving map $L^\infty([0,1])\to \ell^\infty$.

%It remains to show that $\spc{X}=\ell^\infty$ and $\spc{Y}=L^\infty([0,1])$ are not isometric???



\parbf{\ref{ex:sphere-in-urysohn}}; \ref{SHORT.ex:sphere-in-urysohn:sphere} and \ref{SHORT.ex:sphere-in-urysohn:midpoint}.
Observe that $L$ and $M$ satisfy the definition of $d$-Urysohn space and apply the uniqueness (\ref{thm:urysohn-unique}).
Note that
\[\ell=\diam L=\min\{2\cdot r, d\}.\]

\parit{\ref{SHORT.ex:sphere-in-urysohn:homogeneous}.} 
Use \ref{SHORT.ex:sphere-in-urysohn:sphere}, maybe twice.

\parbf{\ref{ex:shere}.}
Let $p$ be the center of the sphere;
without loss of generality, we can assume that $\dist{p}{x}{}\le \dist{p}{y}{}$.
Set $f(p)=1$, $f(x)=1+\dist{p}{x}{}$ and $f(y)=1+\dist{p}{y}{}-\eps$.
Suppose $\eps>0$ is sufficiently small;
show that $f$ is an extension function on $\{p,x,y\}$.

By the extension property, there is a point $z\in \spc{U}$ such that $\dist{p}{z}{}=f(p)$, $\dist{x}{z}{}=f(x)$, and $\dist{y}{z}{}=f(y)$.
Whence the statement follows.

\parit{Source:} This problem is taken from a survey of Julien Melleray
 \cite[Prop. 4.3]{melleray}, where it was attributed to Matatyahu Rubin.

\parbf{\ref{ex:ext(shere)}.} 
Observe that the complement $\spc{V}=\spc{U}\setminus B$ is complete.
Show that it $\spc{V}$ satisfies the extension property.
Conclude that $\spc{V}$ is an Urysohn space and apply \ref{thm:urysohn-unique}.

For the second part, observe that there is an isometry $\iota\:\spc{U}\to \spc{V}$.
Moreover, if $p$ is the center of $B$, then we can assume that $\iota$ has a fixed point $x$ such that $\dist{p}{x}{}>2$.

Consider the unit sphere $S$ centered at $x$.
The restriction of $\iota$ to $S$ is an isometry of $S$.
Use \ref{ex:shere} to show that it cannot be extended to an isometry of $\spc{U}$.

\parit{Source:} \cite[Sec. 4.4]{melleray}.

\parbf{\ref{ex:katetov}.}
Apply \ref{thm:urysohn-unique} and the construction in \ref{thm:urysohn-exists+}.

\parbf{\ref{ex:homogeneous}}; \ref{SHORT.ex:homogeneous:euclidean}.
The Euclidean plane is homogeneous in every sense.

\parit{\ref{SHORT.ex:homogeneous:hilbert}.}
The Hilbert space $\ell^2$ is finite-set-homogeneous, but not compact-set-homogeneous, nor countable-set-homogeneous.

\parit{\ref{SHORT.ex:homogeneous:ell-infty}.}
$\ell^\infty$ is one-point-homogeneous, but not two-point-homogeneous.
Try to show that there is no isometry of $\ell^\infty$ such that
\begin{align*}
(0,0,0,\dots)&\mapsto (0,0,0,\dots),
\\
(1,1,1,\dots)&\mapsto (1,0,0,\dots).
\end{align*}

\parit{\ref{SHORT.ex:homogeneous:ell-1}.}
$\ell^1$ is one-point-homogeneous, but not two-point-homogeneous.
Try to show that there is no isometry of $\ell^\infty$ such that
\begin{align*}
(0,0,0,\dots)&\mapsto (0,0,0,\dots),
\\
(2,0,0\dots)&\mapsto (1,1,0,\dots).
\end{align*}

\parbf{\ref{ex:homogeneous-tree}.}
Let $\spc{T}$ be a one-point-homogeneous metric tree.
Note that all points in $\spc{T}$ have the same degree $d$;
that is, for any point $t\in \spc{T}$ the set of connected components of the complement $\spc{T}\setminus\{t\}$ has the same cardinality $d$.

Show that if $d=0$, then $\spc{T}$ is a one-point space;
there is no tree with $d=1$,
and if $d=2$, then $\spc{T}\iso\RR$.

Suppose $d\ge 3$.
Choose a geodesic $\gamma$ in $\spc{T}$.
Show that number of connected components of $\spc{T}\setminus\gamma$ has cardinality continuum.
Observe and use that one can choose a point $p_\alpha$ in each connected component such that $\dist{p_\alpha}{p_\beta}{\spc{T}}>1$ if $\alpha\ne\beta$.

\parbf{\ref{ex:cut}.}
Suppose that our metric is $\sum a_S\cdot\delta_S$ with $a_S\ge 0$ for any $S\subset F$.
Enumerate all the subsets $S_1,\dots,S_{2^n}$;
set $S_i=F$ for all $i>2^n$. 
Consider the maps $x\mapsto (a_1,a_2,\dots)$ where $a_i=0$ if $x\in S_i$ and otherwise $a_i=1$.
Observe that it defines a distance-preserving map $F\to \ell^1$. 

The if part is proved.
For the only-if part, check the statement for subsets of the real line, and use it.

\parbf{\ref{ex:K23}.}
Show that for any proper subset $S\subset \spc{K}_{2,3}$ there are three points $x,y,z\in \spc{K}_{2,3}$ such that $\dist{x}{y}{} +\dist{y}{z}{}=\dist{x}{z}{}$ and either 
$x,z\in S$ and $y\notin S$, or $x,z\notin S$ and $y\in S$.
Then apply \ref{ex:cut}.
 
\parbf{\ref{ex:RP-not}.}
For the first part, show and use that the quotient of $\RP^2$ by the isotropy group of one point is isometric to a line segment.

For the second part, choose three points on a closed geodesic at equal distances from each other.
Show and use that there is an isometric three-point set in $\RP^2$ that does not lie on a closed geodesic.

\parit{Source:} \cite[V \S 2]{busemann-1942}.

\parbf{\ref{ex:hom-cube}.}
Given $x_1,\dots,x_m\in Q$, denote by $(x_1,\dots,x_m)$ number coordinates that are equal for all.
Show and use that 
\[(x_1,\dots,x_m)=(x_1',\dots,x_m')\]
for any isometry $x\mapsto x'$ of $Q$.

\parit{Source:} \cite[prop. 6 and 7]{berestovskii-nikonorov}.
