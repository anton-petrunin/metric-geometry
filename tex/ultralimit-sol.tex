%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\parbf{\ref{ex:prop:eps-isometry=isometry}.}
Suppose that  $f_n\:\spc{X}\to \spc{Y}$ is a $\tfrac1n$-isometry between compact spaces for each $n\in\NN$.
Consider the $\omega$-limit $f_\omega$ of~$f_n$,
\[f_\omega(x)=\lim_{n\to\omega}f_n(x);\]
according to \ref{prop:ultra/compact}, $f_\omega$ is defined.
Since 
\[|f_n(x)-f_n(x')|\lege |x-x'|\pm\tfrac1n\]

we get that 
\[|f_\omega(x)-f_\omega(x')|= |x-x'|\]
for any $x,x'\in \spc{X}$;
that is, $f_\omega$ is distance-preserving.
Further, since $f_n$ is a $\tfrac1n$-isometry,
for any $y\in \spc{Y}$ there is $x_m$ such that $|f_n(x_n)-y|\le \tfrac1n$.
Therefore,
\[f_\omega(x_\omega)=y,\]
where $x_\omega$ is the $\omega$-limit of $x_n$;
that is, $f_\omega$ is onto.
It follows that $f_\omega\:\spc{X}\to\spc{Y}$ is an isometry.

\parbf{\ref{ex:linear}.}
Choose a nonprincipal ultrafilter $\omega$ and set $L(\bm{s})=s_\omega$.
It remains to observe that $L$ is linear.

\parbf{\ref{ex:lim(tree)}.}
Let $\gamma$ be a path from $p$ to $q$ in a metric tree $\spc{T}$.
Assume that $\gamma$ passes thru a point $x$ on distance $\ell$ from $[pq]$.
Then 
\[\length\gamma\ge \dist{p}{q}{}+2\cdot \ell.
\eqlbl{eq:+ell}\]

Suppose that $\spc{T}_n$ is a sequence of metric trees that $\omega$-converges to $\spc{T}_\omega$.
By \ref{obs:ultralimit-is-geodesic}, the space $\spc{T}_\omega$ is geodesic.

The uniqueness of geodesics follows from \ref{eq:+ell}.
Indeed, if for a geodesic $[p_\omega q_\omega]$ there is another geodesic $\gamma_\omega$ connecting its ends, then it has to pass thru a point $x_\omega\notin [p_\omega q_\omega]$.
Choose sequences $p_n,q_n,x_n\in\spc{T}_n$ such that $p_n\to p_\omega$, $q_n\to q_\omega$, and $x_n\to x_\omega$ as $n\to\omega$.
Then 
\begin{align*}
\dist{p_\omega}{q_\omega}{}&=\length\gamma\ge \lim_{n\to\omega}(\dist{p_n}{x_n}{}+\dist{q_n}{x_n}{})\ge
\\
&\ge \lim_{n\to\omega}(\dist{p_n}{q_n}{}+2\cdot\ell_n)=
\\
&=\dist{p_\omega}{q_\omega}{}+2\cdot\ell_\omega.
\end{align*}
Since $x_\omega\notin [p_\omega q_\omega]$, we have that $\ell_\omega>0$ --- a contradiction.

It remains to show that any geodesic triangle $\spc{T}_\omega$ is a tripod.
Consider the sequence of centers of tripods $m_n$ for a given sequences of points $x_n,y_n,z_n\in \spc{T}_n$.
Observe that its ultralimit $m_\omega$ is the center of the tripod with ends at $x_\omega,y_\omega,z_\omega\in \spc{T}_\omega$.

\parbf{\ref{ex:ultrapower}.}
Further, we consider $\spc{X}$ as a subset of $\spc{X}^\omega$.

\parit{\ref{SHORT.ex:ultrapower:a}.} Follows directly from the definitions.

\parit{\ref{SHORT.ex:ultrapower:compact}.}
Suppose $\spc{X}$ compact.
Given a sequence $x_n$ in $\spc{X}$, denote its $\omega$-limit in $\spc{X}^\omega$ by $x^\omega$ and its $\omega$-limit in $\spc{X}$ by $x_\omega$.

Observe that $x^\omega=\iota(x_\omega)$.
Therefore, $\iota$ is onto.

If $\spc{X}$ is not compact, we can choose a sequence $x_n$ such that $\dist{x_m}{x_n}{}>\eps$ for fixed $\eps>0$ and all $m\ne n$.
Observe that
\[\lim_{n\to\omega}\dist{x_n}{y}{\spc{X}}\ge \tfrac\eps2\]
for any $y\in\spc{X}$.
It follows that $x_\omega$ lies on the distance at least $\tfrac\eps2$ from~$\spc{X}$.

\parit{\ref{SHORT.ex:ultrapower:proper}.}
A sequence of points $x_n$ in $\spc{X}$ will be called $\omega$-bounded if there is a real constant $C$ such that
\[\dist{p}{x_n}{\spc{X}}\le C\] 
for $\omega$-almost all $n$.

The same argument as in \ref{SHORT.ex:ultrapower:compact} shows that any $\omega$-bounded sequence has its $\omega$-limit in $\spc{X}$.
Further, if $(x_n)$ is not  $\omega$-bounded, then 
\[\lim_{n\to\omega}\dist{p}{x_n}{\spc{X}}=\infty;\]
that is, $x_\omega$ does not lie in the metric component of $p$ in $\spc{X}^\omega$.

\parbf{\ref{ex:isom-ultrapower}.} Show and use that the spaces $\spc{X}^\omega$ and $(\spc{X}^\omega)^\omega$ have discrete metric and both have cardinality continuum.

\parbf{\ref{ex:two-geodesics-in-ultrapower}.}
Apply \ref{lem:X-X^w} and \ref{obs:ultrapower-is-geodesic}.

\parbf{\ref{ex:notproper-limit}.} Consider the infinite metric $\spc{T}$ tree with unit edges shown
\begin{figure}[h!]
\vskip-0mm
\centering
\includegraphics{mppics/pic-605}
\end{figure}
on the diagram. Observe that $\spc{T}$ is proper.

Consider the vertex $v_\omega=\lim_{n\to\omega}v_n$ in the ultrapower $\spc{T}^\omega$.
Observe that $\omega$ has an infinite degree.
Conclude that $\spc{T}^\omega$ is not locally compact.

\parbf{\ref{ex:ultraT}.} Consider a product space $[0,1]\times[0,\tfrac12]\times[0,\tfrac14]\times\dots$.

\parbf{\ref{ex:Asym(Lob)}}; \ref{SHORT.ex:Asym(Lob):metric-tree}.
Show that there is $\delta>0$ such that sides of any geodesic triangle intersect a disk of radius $\delta$.
Conclude that any geodesic triangle in $\Asym\spc{L}$ is a tripod.
Make a conclusion.

\parit{\ref{SHORT.ex:Asym(Lob):homogeneous}.} Observe that $L$ is one-point homogeneous and use it.

\parit{\ref{SHORT.ex:Asym(Lob):continuum}.} 
By \ref{SHORT.ex:Asym(Lob):homogeneous}, it is sufficient to show that $p_\omega$ has a continuum degree.

Choose distinct geodesics $\gamma_1,\gamma_2\:[0,\infty)\to L$ that start at a point $p$.
Show that the limits of $\gamma_1$ and $\gamma_2$ run in the different connected components of $(\Asym\spc{L})\setminus \{p_\omega\}$.
Since there is a continuum of distinct geodesics starting at $p$,
we get that the degree of $p_\omega$ is at least continuum.

On the other hand, the set of sequences of points in $L$  has cardinality continuum.
In particular, the set of points in $\Asym\spc{L}$ has cardinality at most continuum.
It follows that the degree of any vertex is at most continuum.

\parit{\ref{SHORT.ex:Asym(Lob):others}.}
The proof for the Lobachevsky space goes along the same lines.

For the infinite 3-regular tree, part \ref{SHORT.ex:Asym(Lob):metric-tree} follows from \ref{ex:lim(tree)}.
The 3-regular tree is not one-point homogeneous, but it is vertex homogeneous; the latter is sufficient to prove \ref{SHORT.ex:Asym(Lob):homogeneous}.
No changes are needed in \ref{SHORT.ex:Asym(Lob):continuum}.

\parit{Remark.}
Anna Dyubina and Iosif Polterovich \cite{dyubina-polterovich} proved that the properties \ref{SHORT.ex:Asym(Lob):homogeneous} and \ref{SHORT.ex:Asym(Lob):continuum} describe the tree $\spc{T}$ up to isometry.
In particular, the asymptotic space of the Lobachevsky plane does not depend on the choice of ultrafilter and the sequence $\lambda_n\to \infty$.
