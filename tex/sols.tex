

\parbf{\ref{ex:tringle-inq-angles}.}
Let us show that $\gamma\le\alpha+\beta$; the rest of inequalities can be done the same way.
Since $\gamma\le\pi$, we may assume that $\alpha+\beta< \pi$.

Denote by $\gamma_x$, $\gamma_y$, and $\gamma_z$ the geodesics $[px]$, $[py]$, and $[pz]$ parameterized from $p$ by arc-length.
By triangle inequality,
for any $\eps>0$ and all sufficiently small $t,\tau,s\in\RR_+$ we have
\begin{align*}
\dist{\gamma_x(t)}{\gamma_z(\tau)}{}
\le 
\ &\dist{\gamma_x(t)}{\gamma_y(s)}{}+\dist{\gamma_y(s)}{\gamma_z(\tau)}{}<\\
<
\ &\sqrt{t^2+s^2-2\cdot t\cdot  s\cdot \cos(\alpha+\eps)}\ +
\\
&+\sqrt{s^2+\tau^2-2\cdot s\cdot \tau\cdot \cos(\beta+\eps)}\le
\end{align*}

\begin{wrapfigure}{r}{30 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-7}
\end{wrapfigure}

Below we define 
$s(t,\tau)$ so that for 
$s=s(t,\tau)$, this chain of inequalities can be continued as follows:
\[\le
\ \sqrt{t^2+\tau^2-2\cdot t\cdot \tau\cdot \cos(\alpha+\beta+2\cdot \eps)}.
\]
Thus for any $\eps>0$, 
\[\gamma\le \alpha+\beta+2\cdot \eps.\]
Hence the result.

To define $s(t,\tau)$, consider three rays $\tilde \gamma_x$, $\tilde \gamma_y$, $\tilde \gamma_z$ on a Euclidean plane starting at one point, such that $\mangle(\tilde \gamma_x,\tilde \gamma_y)=\alpha+\eps$,
$\mangle(\tilde \gamma_y,\tilde \gamma_z)=\beta+\eps$ and $\mangle(\tilde \gamma_x,\tilde \gamma_z)=\alpha+\beta+2\cdot \eps$.
We parametrize each ray by the distance from the starting point.
Given two positive numbers $t,\tau\in\RR_+$, let $s=s(t,\tau)$ be 
the number such that 
$\tilde \gamma_y(s)\z\in[\tilde \gamma_x(t)\ \tilde \gamma_z(\tau)]$. 
Clearly $s\le\max\{t,\tau\}$, so $t,\tau,s$ may be taken sufficiently small.

\parit{Remark.}
Note that for the Euclidean space the statement implies that central angle defines a metric on unit sphere.
This statement is not quite trivial; moreover, it is straightforward to modify Euclidean proof so it will work in Alexandrov settings. 

\begin{wrapfigure}{r}{30 mm}
\vskip-2mm
\centering
\includegraphics{mppics/pic-5}
\end{wrapfigure}

\parbf{\ref{ex:sba-2+2-short}}; \textit{only-if part.}
Let us start with two model triangles $[\tilde x\tilde y\tilde p]=\modtrig(xyp)$ and $[\tilde x\tilde y\tilde q]=\modtrig(xyq)$ such that $\tilde p$ and $\tilde q$ lie on the opposite sides of the line $\tilde x\tilde y$.

Suppose $[\tilde x \tilde y]$ intersects $[\tilde p\tilde q]$ at a point $\tilde z$.
In this case by $\CAT(0)$ comparison we have that
\[\dist{\tilde p}{\tilde q}{\EE^2}=\dist{\tilde p}{\tilde z}{\EE^2}-\dist{\tilde z}{\tilde q}{\EE^2}\le \dist{p}{q}{\spc{X}}.\]

Let us fix points $\tilde x$ and $\tilde y$, and the distances from $\tilde x$ to the remaining three points and reduce the angles $\alpha=\mangle\hinge{\tilde x}{\tilde p}{\tilde y}$ and $\beta=\mangle\hinge{\tilde x}{\tilde q}{\tilde y}$.
It results in decreasing distances $\dist{\tilde p}{\tilde q}{}$, $\dist{\tilde p}{\tilde y}{}$, and $\dist{\tilde q}{\tilde y}{}$.
If $\alpha=\beta=0$, then 
\begin{align*}
\dist{\tilde p}{\tilde q}{\EE^2}&=
\biggl|\dist{\tilde x}{\tilde p}{\EE^2}-\dist{\tilde x}{\tilde q}{\EE^2}\biggr|=
\\
&=\biggl|\dist{ x}{ p}{\spc{X}}-\dist{ x}{ q}{\spc{X}}\biggr|\ge
\\
&\ge\dist{p}{q}{\spc{X}}.
\end{align*}
By the intermediate value theorem, there are intermediate values of $\alpha$ and $\beta$ so that $\dist{\tilde p}{\tilde q}{\EE^2}\z=\dist{p}{q}{\spc{X}}$.
By construction, $\dist{\tilde x}{\tilde p}{\EE^2}=\dist{x}{p}{\spc{X}}$, $\dist{\tilde x}{\tilde q}{\EE^2}=\dist{x}{q}{\spc{X}}$, $\dist{\tilde y}{\tilde p}{\EE^2}\le\dist{y}{p}{\spc{X}}$, $\dist{\tilde y}{\tilde q}{\EE^2}\le\dist{y}{q}{\spc{X}}$.

\begin{wrapfigure}{o}{30 mm}
\vskip-0mm
\centering
\includegraphics{mppics/pic-6}
\end{wrapfigure}

Now suppose $[\tilde p \tilde q]$ does not intersect $[\tilde x\tilde y]$.
Without loss of generality, we may assume that $[\tilde p \tilde q]$ crosses the line $\tilde x\tilde y$ behind $\tilde x$.

Let us rotate $\tilde p$ around $\tilde x$ so that $\tilde x$ will lie between $\tilde p$ and $\tilde q$.
It will result in decreasing the distance $\dist{\tilde p}{\tilde y}{}$,
by triangle inequality we have that 
\begin{align*}
\dist{\tilde p}{\tilde q}{\EE^2}&=\dist{\tilde p}{\tilde x}{\EE^2}+\dist{\tilde x}{\tilde q}{\EE^2}=
\\
&=\dist{p}{x}{\spc{X}}+\dist{x}{q}{\spc{X}}\ge
\\
&\ge \dist{p}{q}{\spc{X}}.
\end{align*}
Repeating the argument above produces the needed configuration.

\parit{If part.}
Suppose $\tilde p,\tilde q,\tilde x,\tilde y\in\EE^2$ satisfies the conditions 
\begin{align*}
\dist{\tilde p}{\tilde q}{}&=\dist{p}{q}{},
&
\dist{\tilde x}{\tilde y}{}&=\dist{x}{y}{},
\\
\dist{\tilde p}{\tilde x}{}&\le \dist{p}{x}{},
&
\dist{\tilde p}{\tilde y}{}&\le \dist{p}{y}{},
\\
\dist{\tilde q}{\tilde x}{}&\le \dist{q}{x}{},
&
\dist{\tilde q}{\tilde y}{}&\le \dist{q}{y}{}.
\end{align*}

Fix $\tilde z\in [\tilde x\tilde y]$.
By triangle inequality 
\[\dist{\tilde p}{\tilde z}{}+\dist{\tilde z}{\tilde q}{}\ge \dist{\tilde p}{\tilde q}{}=\dist{p}{q}{}.\]

Note that if 
$\dist{\tilde p'}{\tilde x}{}\ge \dist{\tilde p}{\tilde x}{}$
and
$\dist{\tilde p'}{\tilde y}{}\ge \dist{\tilde p}{\tilde y}{}$,
then $\dist{\tilde p'}{\tilde z}{}\ge \dist{\tilde p}{\tilde z}{}$.
In particular if $[\tilde x\tilde y\tilde p']=\modtrig(xyp)$ and $[\tilde x\tilde y\tilde q']=\modtrig(xyq)$, then
\begin{align*}
 \dist{\tilde p'}{\tilde z}{}+\dist{\tilde q'}{\tilde z}{}\ge \dist{\tilde p}{\tilde z}{}+\dist{\tilde z}{\tilde q}{}.
\end{align*}
Whence the ``if'' part follows.

\parbf{\ref{ex:(3+1)-expanding}.}
Set $\tilde\alpha=\angk pxy$, $\tilde\beta=\angk pyz$ and $\tilde\gamma=\angk pzx$.

If $\spc{X}$ is $\Alex0$, then
\[\tilde\alpha+\tilde\beta+\tilde\gamma\le 2\cdot \pi.\]
Note that we can find $\alpha,\beta,\gamma$ such that 
\[
\tilde\alpha\le\alpha\le\pi,
\quad \tilde\beta\le\beta\le\pi,
\quad\tilde\gamma\le\gamma\le\pi,\]
and
\[\alpha+\beta+\gamma=2\cdot \pi.\]
Consider a model configuration $\tilde p$, $\tilde x$, $\tilde y$, $\tilde z\in\EE^2$ such that 
\begin{align*}
\dist{\tilde p}{\tilde x}{\EE^2}&=\dist{p}{x}{\spc{X}},
&
\dist{\tilde p}{\tilde y}{\EE^2}&=\dist{p}{y}{\spc{X}},
&
\dist{\tilde p}{\tilde z}{\EE^2}&=\dist{p}{z}{\spc{X}},
\\
\mangle\hinge {\tilde p}{\tilde x}{\tilde y}&=\alpha,
&
\mangle\hinge {\tilde p}{\tilde y}{\tilde z}&=\beta,
&
\mangle\hinge {\tilde p}{\tilde z}{\tilde x}&=\gamma.
\end{align*}

Since increasing angle in a triangle increase the opposite side, we have 
\begin{align*}
\dist{x}{y}{\spc{X}}&\le\dist{\tilde x}{\tilde y}{\EE^2},
&
\dist{y}{z}{\spc{X}}&\le\dist{\tilde y}{\tilde z}{\EE^2},
&
\dist{z}{x}{\spc{X}}&\le\dist{\tilde z}{\tilde x}{\EE^2}.
\end{align*}
Whence the ``only-if'' part follows.

Now suppse that we have a model configuration $\tilde p,\tilde x,\tilde y,\tilde z\in\EE^2$
such that 
\begin{align*}
\dist{p}{x}{\spc{X}}&=\dist{\tilde p}{\tilde x}{\EE^2},
&
\dist{p}{y}{\spc{X}}&=\dist{\tilde p}{\tilde y}{\EE^2},
&
\dist{p}{z}{\spc{X}}&=\dist{\tilde p}{\tilde z}{\EE^2},
\\
\dist{x}{y}{\spc{X}}&\le\dist{\tilde x}{\tilde y}{\EE^2},
&
\dist{y}{z}{\spc{X}}&\le\dist{\tilde y}{\tilde z}{\EE^2},
&
\dist{z}{x}{\spc{X}}&\le\dist{\tilde z}{\tilde x}{\EE^2}.
\end{align*}

Set
\begin{align*} 
\alpha&=\mangle\hinge {\tilde p}{\tilde x}{\tilde y},
&
\beta&=\mangle\hinge {\tilde p}{\tilde y}{\tilde z},
&
\gamma&=\mangle\hinge {\tilde p}{\tilde z}{\tilde x}.
\end{align*}
Observe that 
\[\alpha+\beta+\gamma\le 2\cdot \pi.\]
Since increasing a side in a triangle increase the opposite angle, we have that
\[
\tilde\alpha\le\alpha,
\quad \tilde\beta\le\beta,
\quad\tilde\gamma\le\gamma.\]
Whence the ``if'' part follows.

\parbf{\ref{ex:CAT+CBB}.}
Set $\tilde \alpha=\angk pxq$, $\tilde\beta=\angk pyq$ and $\tilde\gamma=\angk pxy$.

Note that the quadruple $p,x,y,z$ is euclidean if 
\[\tilde\alpha+\tilde\beta+\tilde\gamma\le 2\cdot\pi
\eqlbl{eq:a+b+c=<2pi}\]
and the triple of numbers $\tilde\alpha,\tilde\beta,\tilde\gamma$ satisfies all triangle inequalities.
Without loss of generality we may assume that
$\tilde\alpha\le\tilde\beta\le\tilde\gamma$;
in this case the triangle inequities hold if 
\[\tilde\gamma\le \tilde\alpha+\tilde\beta.\eqlbl{eq:a+b>=c}\]

Note that the inequality \ref{eq:a+b+c=<2pi} follow from $\CBB(0)$ comparison.

Consider two model triangles $[\tilde x\tilde y\tilde p]=\modtrig(xyp)$ and $[\tilde x\tilde y\tilde q]=\modtrig(xyq)$ such that $\tilde p$ and $\tilde q$ lie on the opposite sides of the line $\tilde x\tilde y$.

Suppose $[\tilde x \tilde y]$ intersects $[\tilde p\tilde q]$ at a point $\tilde z$.
In this case by $\CAT(0)$ comparison we have that
\[\dist{\tilde x}{\tilde y}{\EE^2}=\dist{\tilde x}{\tilde z}{\EE^2}-\dist{\tilde z}{\tilde y}{\EE^2}\le \dist{x}{y}{\spc{X}}.\]
Which is equivalent to \ref{eq:a+b>=c}.

If $[\tilde x \tilde y]$ crosses the line $[\tilde p\tilde q]$ behind $\tilde p$,
then $\tilde\alpha+\tilde\beta>\pi$ and therefore \ref{eq:a+b>=c} follows from \ref{eq:a+b+c=<2pi}.

Finally if $[\tilde x \tilde y]$ crosses the line $[\tilde p\tilde q]$ behind $\tilde q$,
then by $\CBB(0)$ comparison with center at $q$, we have that 
\[\angk qxp+\angk qyp+\angk qxy\le 2\cdot\pi\]
It follows that 
\[\dist{\tilde x}{\tilde y}{\EE^2}\ge\dist{ x}{ y}{\spc{X}}\]
and therefore 
\[\tilde \gamma\le \mangle\hinge{\tilde p}{\tilde x}{\tilde y}.\]
Since $\mangle\hinge{\tilde p}{\tilde x}{\tilde y}=\tilde\alpha+\tilde\beta$ we get \ref{eq:a+b>=c}.

\parbf{\ref{ex:product-CBB}.}
We will use the charcterization of $\CBB(0)$ space provided by \ref{ex:(3+1)-expanding}; the rest is nearly identical to the proof of \ref{ex:product-CAT}.

Fix a quadruple in $\spc{U}\times \spc{V}$:
\begin{align*}
p&=(p_1,p_2),
&
x&=(x_1,x_2),
&
y&=(y_1,y_2),
&
z&=(z_1,z_2).
\end{align*}
For the quadruple $p_1,x_1,y_1,z_1$ in $\spc{U}$,
construct model configurations  $\tilde p_1,\tilde x_1,\tilde y_1,\tilde z_1$ in $\EE^2$ provided by \ref{ex:(3+1)-expanding}.  
Similarly, for the quadruple $p_2,q_2,x_2,y_2$ in $\spc{V}$
construct model configurations  $\tilde p_2,\tilde x_2,\tilde y_2,\tilde z_2$ in $\EE^2$

Consider four points in $\EE^4=\EE^2\times\EE^2$ 
\begin{align*}
\tilde p&=(\tilde p_1,\tilde p_2),
&
\tilde x&=(\tilde x_1,\tilde x_2),
&
\tilde y&=(\tilde y_1,\tilde y_2),
&
\tilde z&=(\tilde z_1,\tilde z_2).
\end{align*}
The inequalities in  \ref{ex:(3+1)-expanding} imply that
\begin{align*}
\dist{p}{x}{\spc{X}}&=\dist{\tilde p}{\tilde x}{\EE^4},
&
\dist{p}{y}{\spc{X}}&=\dist{\tilde p}{\tilde y}{\EE^4},
&
\dist{p}{z}{\spc{X}}&=\dist{\tilde p}{\tilde z}{\EE^4},
\\
\dist{x}{y}{\spc{X}}&\le\dist{\tilde x}{\tilde y}{\EE^4},
&
\dist{y}{z}{\spc{X}}&\le\dist{\tilde y}{\tilde z}{\EE^4},
&
\dist{z}{x}{\spc{X}}&\le\dist{\tilde z}{\tilde x}{\EE^4}
\end{align*}
It remains to observe that one can move $\tilde z$ into the plane of $\tilde p$, $\tilde x$, and $\tilde y$ keeping the distance $\dist{\tilde p}{\tilde z}{\EE^4}$ and nondecreasing the rest of distances. 

\parbf{\ref{ex:CBB-geodesic}.}
Suppose that there are distinct geodesics.
Then there are two points $p$ and $q$ on different geodesics such that $\dist{p}{x}{}=\dist{q}{x}{}$.
Without loss of generality we may assume that $\dist{z}{x}{}<\dist{p}{x}{}$;
in other words $z$ lies between $p$ and $x$ on the first geodesic and 
$z$ lies between $q$ and $x$ on the second geodesic.
Observe that 
\[\angk zxp=\angk zxq=\pi.\]

By comparison, we have
\[\angk zxp+\angk zxq+\angk zpq\le2\cdot\pi.\]
It follows that $\angk zpq=0$.
Since $\dist{z}{p}{}=\dist{z}{q}{}$, it implies that $p=q$ --- a contradiction.

\parbf{\ref{ex:contractible}.}
Use \ref{ex:noncreasing-CAT}, to show that the map $(t,x)\mapsto \gamma_x(t)$ is continuous; that is $h_t(x)=\gamma_x(t)$ defines a homotopy.

It remains to observe that $h_1(x)=x$ and $h_0(x)=p$ for any $x$.

\parbf{\ref{ex:CAT-mnfld=>ext.geod}.}
Suppose that a geodesic $[pq]$ is not expendable behind~$q$.
Denote by $h_t$ the geodesic homotopy with the center at $p$; see \ref{ex:contractible}.

Since $[pq]$ is not extendable, $q\notin \Im h_t$ for any $t<1$.
In particular the local homology groups vanish at $p$;
the latter does not hold for a manifold --- a contradiction.

\parbf{\ref{ex:fat-triangle}.}
Apply \ref{ex:noncreasing-CBB} twice.

More precisely, consider a triangle $[xyz]$ in the space; let $[\tilde x\tilde y\tilde z]\z=\modtrig(xyz)$.
Choose points $p\in[xy]$ and $q\in[xz]$;
consider the corresponding points $\tilde p\in[\tilde x\tilde y]$ and $\tilde q\in[\tilde x\tilde z]$.
We need to show that 
\[\dist{\tilde p}{\tilde q}{\EE^2}\le \dist{ p}{q}{\spc{X}}.
\eqlbl{eq:pq=<pq}\]

By \ref{ex:noncreasing-CBB}, we have
\[\angk{x}{p}{q}\ge\angk{x}{y}{z}.\]
Whence \ref{eq:pq=<pq} follows.


\parbf{\ref{ex:convex-dist}.}
It is sufficient to prove the Jensen inequality;
that is, 
\[
\dist{\gamma_1(t)}{\gamma_2(t)}{}
\le
(1-t)\cdot\dist{\gamma_1(0)}{\gamma_2(0)}{}
+
t\cdot \dist{\gamma_1(1)}{\gamma_2(1)}{}.
\]

{

\begin{wrapfigure}{o}{45 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-8}
\end{wrapfigure}

Let $\delta$ be the geodesic path from $\gamma_2(0)$ to $\gamma_1(1)$.
From \ref{ex:noncreasing-CAT}, we have
\begin{align*}
\dist{\gamma_1(t)}{\delta(t)}{}
&\le
(1-t)\cdot\dist{\gamma_1(0)}{\delta(0)}{}
\\
\dist{\delta(t)}{\gamma_2(t)}{}
&\le
t\cdot\dist{\delta(1)}{\gamma_2(1)}{}
\end{align*}
It remains to sum it up and apply the triangle inequality.

}

\parit{Remark.} Note that in the Euclidean space the proof is just as hard.

\parbf{\ref{ex:convex-nbhd}.}
Let $p,q\in A_r$;
that is, there are points $p^*,q^*\in A$ such that $\dist{p}{p^*}{},\dist{q}{q^*}{}\le r$.
Consider a geodesic path $\gamma$ from $p$ to $q$ and a geodesic path $\gamma^*$ from $p^*$ to $q^*$.
Set $f(t)=\dist{\gamma(t)}{\gamma^*(t)}{}$.

Observe that $f(0),f(t)\le r$.
By \ref{ex:convex-dist}, $f$ is convex.
Therefore $f(t)\le r$ for any $t\in[0,1]$.

Since $A$ is convex $\gamma^*$ runs in $A$.
Therefore $f(t)\ge \distfun_A\circ\gamma(t)$;
that is, $\gamma$  runs in $A_r$.

\parbf{\ref{ex:closest-point}}; \ref{SHORT.ex:closest-point:a}.
Assume there are two point $x,y\in K$ that minimize the distance to $p$;
suppose $\ell=\dist{p}{x}{}=\dist{p}{y}{}$.
Since $K$ is convex, the geodesic $[xy]$ lies in $K$.
Let $m$ be a midpoint of $[xy]$.

Use thinness of $[pxy]$ to show that $\dist{p}{m}{}<\ell$.
It follows that $x$ does not minimize the distance to $p$ --- a contradiction.

\parit{\ref{SHORT.ex:closest-point:b}.}
Let $p^*$ and $q^*$ be the closest point projections of $p$ and $q$ to $K$.
Assume all four points $p,q,p^*,q^*$ are distinct.
Consider two model triangles $[\tilde p\tilde p^*\tilde q^*]=\modtrig(pp^*q^*)$ and $[\tilde p\tilde q\tilde q^*]=\modtrig(pqq^*)$ 
such that the points $\tilde p^*$ and $\tilde q$ lie on the opposite sides from the line $\tilde p\tilde q^*$.

Use thinness of $[pp^*q^*]$ and $[pqq^*]$ to show that $\mangle\hinge{\tilde p^*}{\tilde p}{\tilde q^*}\ge \tfrac\pi2$ and $\mangle\hinge{\tilde q^*}{\tilde p^*}{\tilde q}\ge \tfrac\pi2$.
Finally observe that 
\[\dist{p}{q}{\spc{U}}=\dist{\tilde p}{\tilde q}{\EE^2}\ge \dist{\tilde p^*}{\tilde q^*}{\EE^2}=\dist{p^*}{q^*}{\spc{U}}.\]

If some of the points $p$, $q$, $p^*$, $q^*$ coincide, then the proof is easier.

\parbf{\ref{ex:locally-convex}.} Fix a closed, connected, locally convex set~$K$.

Let us show that $f=\distfun_K$ is convex in a neighborhood $\Omega\supset K$; that is, $\distfun_K$ is convex along any geodesic completely contained in~$\Omega$.
It is sufficient to show that for any a point $p\in K$ the function $f$ is convex in a ball $B_p= \oBall(p, r_p)$ if $K\cap \cBall[p,2\cdot r_p]$ is convex.

By \ref{ex:convex-dist} for any geodesic path $\gamma_0$ in $B$ and any geodesic path $\gamma_1$ in $K$ we have that the function 
$t\mapsto\dist{\gamma_0(t)}{\gamma_1(t)}{}$ is convex.
We may choose $\gamma_1$ in such a way that its ends realize the distances from the ends of $\gamma_0$ to $K$;
that is,
\begin{align*}
\dist{\gamma_0(0)}{\gamma_1(0)}{}&=f\circ\gamma_0(0),
\\
\dist{\gamma_0(1)}{\gamma_1(1)}{}&=f\circ\gamma_0(1).
\end{align*}
Observe that 
\[\dist{\gamma_0(t)}{\gamma_1(t)}{}\ge f\circ\gamma_0(t)\]
for any $t$.
Whence Jensen's inequality holds for $f\circ\gamma$ if $\gamma$ is any geodesic in $B_p$.

\begin{wrapfigure}{o}{45 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-9}
\end{wrapfigure}

Since $K$ is locally convex,
it is locally path connected.
Since $K$ is connected, the latter implies that $K$ is path connected.

Fix two points $x,y\in K$. 
Let us connect $x$ to $y$ by a path $\alpha\:[0,1]\z\to K$.
By \ref{ex:CAT-geodesic} and \ref{ex:convex-dist}, the geodesic $[x\,\alpha(s)]$ 
is uniquely defined and depends continuously on~$s$.

If $[xy]=[x\,\alpha(1)]$ does not completely lie in $K$, then 
there is a value $s\in [0,1]$ such that $[x\,\alpha(s)]$ 
lies in $\Omega$,
but does not completely lie in~$K$.
Therefore $f$ is convex 
along $[x\alpha(s)]$.
Note that $f(x)\z=f(\alpha(s))=0$ and $f\ge 0$, 
therefore $f(z)= 0$ for any $z\in [x\,\alpha(s)]$.
In other words, $[x\,\alpha(s)]\subset K$ --- a contradiction.

\parit{Remark.}
The statement generalizes a theorem of Heinrich Tietze \cite{tietze}; our proof is nearly identical to the original.

\parbf{\ref{ex:reshetnyak-doubling}.}
If $A$ is not convex, then there is a geodesic $[xy]$ with the ends in $A$ and the remaining points outside of $A$.
Observe that in the doubling, say $\spc{W}$, two copies of this geodesics connect the same pair of points $x$ and $y$.
By \ref{ex:CAT-geodesic}, $\spc{W}$ is not $\CAT(0)$.

\parbf{\ref{ex:supporting-planes}.}
By approximation, it is sufficient to consider the case when 
$A$ and $B$ have smooth boundary. 

If $[xy]\cap A\cap B\ne \emptyset$, then $z_0\in [xy]$ and $\dot A, \dot B$ can be chosen to be arbitrary half-spaces containing $A$ and $B$ respectively.  

In the remaining case $[xy]\cap A\cap B=\emptyset$, 
we have $z_0\in\partial (A\cap B)$.  
Consider the solid ellipsoid
\[C=\set{z\in\EE^m}{f(z)\le f(z_0)}.\] 
Note that $C$ is compact, convex and has  smooth boundary. 

Suppose $z_0\in\partial  A \cap \Int B$. 
Then $A$ and $C$ touch at $z_0$ and we can set $\dot A$ to be the uniquely defined supporting half-space to $A$  at $z_0$ and $\dot B$ to be any half-space containing~$B$. 
The case $z_0\in\partial B \cap \Int A$ is treated similarly.


Finally, suppose $z_0\in\partial A\cap\partial B$. 
Then the set  $\dot A$ (respectively, $\dot B$) is defined as the unique supporting half-space to $A$ (respectively, $B$) at $z_0$ containing $A$ (respectively, $B$).

Suppose $f(z)<f(z_0)$ for some $z\in \dot A\cap\dot B$.
Since $f$ is concave,
$f(\bar z)<f(z_0)$ for any $\bar z \in \left[zz_0\right[$.
Since $\left[zz_0\right[\cap A\cap B\ne\emptyset$,
the latter contradicts the fact that $z_0$ is minimum point of $f$ on $A\cap B$.


\parbf{\ref{ex:compact-walls}.}
Fix two open balls $B_1\z=\oBall(0,r_1)$ and $B_2=\oBall(0,r_2)$
such that 
\[B_1\subset A^i\subset B_2\]
for each wall~$A^i$.

Suppose $X$ is an intersections of  the walls.
Observe that 
\[B_1\subset X\subset B_2.\]
Therefore if $x\in X$, then $X$ contains the convex hull $\Conv(B_1\cup\{x\}$;
therefore all intersections of the walls have $\eps$-wide corners for $\eps\z=2\cdot \arcsin\tfrac{r_1}{r_2}$.

\parbf{\ref{ex:centrally-simmetric-walls}.}
Note that any centrally symmetric convex closed set in Euclidean space is a product of a compact centrally symmetric convex set and a subspace.

It follows that there is $R<\infty$
such that if $X$ is an intersection of an arbitrary number of walls, then for any point $p\in X$ there is an isometry of $X$ 
that moves  $p$ to a point in the ball $\oBall(0,R)$.

It remains to apply the argument in \ref{ex:compact-walls}.

\parbf{\ref{cor:balls:dim=1}.} 
Note that we can assume that the balls have zero radiuses.

Observe that at each collision the balls exchange their velocities.
Let us also change their labels at each collision.
Note that after the relabeling,  the coordinates functions $t\mapsto x_{i}(t)$ of the balls are linear functions in time.%
\footnote{We use here that radiuses vanish, otherwise $\tilde x_i=x_i-2\cdot k_i\cdot r$ are linear, where $k_i$ is the number of $i$-th ball counted from left.} 

It remains to show $n$ lines on the plane have at most $\tfrac{n\cdot(n-1)}2$ intersections.
It follows since any pair of lines have at most one intersection.

\parit{Remarks.}
For nonidentical balls, the problem is a bit more interesting;
Grant Sanderson \cite{sanderson} has couple of funny movies on a partial case of this problem.

Recall that in the 3-dimensional case the number of collisions grows exponentially in $n$; the two-dimensional case is open \cite{burago-ivanov}.

\parbf{\ref{ex:null-homotopic}.}
Note that the existence of a null-homotopy is equivalent to the following.
There are two one-parameter families of paths $\alpha_\tau$ and $\beta_\tau$, $\tau\in[0,1]$ 
such that: 
\begin{itemize}
\item $\length\alpha_\tau$, $\length\beta_\tau<\pi$ for any~$\tau$.
\item $\alpha_\tau(0)=\beta_\tau(0)$ and $\alpha_\tau(1)=\beta_\tau(1)$ for any~$\tau$.
\item $\alpha_0(t)=\beta_0(t)$ for any~$t$.
\item $\alpha_1(t)=\alpha(t)$ and $\beta_1(t)=\beta(t)$ for any~$t$.
\end{itemize}

By Corollary~\ref{cor:discrete-paths},
the construction in Corollary~\ref{cor:path-geod} produces the same result for $\alpha_\tau$ and $\beta_\tau$.
Hence the result.


\begin{wrapfigure}{r}{25 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-11}
\end{wrapfigure}

\parbf{\ref{ex:geod-circle}.}
The following proof works for compact locally simply connected metric spaces;
it includes compact length, locally $\CAT(0)$ spaces. 

\medskip


By the globalization theorem there is  a nontrivial homotopy class of closed curves.

Consider a shortest noncontractible closed curve $\gamma$ in  $\spc{X}$;
note that such a curve exists.

Indeed, let $L$ be the infimum of lengths of all noncontractible closed curves in $\spc{X}$.
Compactness and local contractibility of $\spc{X}$ imply that any two sufficiently close closed curves in $\spc{X}$ are homotopic.
Then choosing a sequence of unit speed noncontractible curves whose lengths converge to $L$, an Arzel\'{a}--Ascoli type of argument shows that these curves subconverge to a noncontractible curve of length $L$.


Assume that $\gamma$ is not a geodesic circle,
that is,  there are two points $p$ and $q$ on $\gamma$ such that the distance $\dist{p}{q}{}$ 
is shorter then the lengths of the arcs, say $\alpha_1$ and $\alpha_2$, of $\gamma$ from $p$ to~$q$.
Consider the products, say $\gamma_1$ and $\gamma_2$,
of $[qp]$ with $\alpha_1$ and~$\alpha_2$.
Then
\begin{itemize}
 \item  $\gamma_1$ or $\gamma_2$ is noncontractible,
 \item $\length\gamma_1, \length\gamma_2<\length \gamma$,
\end{itemize}
a contradiction.

In the $\CAT(1)$ case we also have a geodesic circle.
The proof is done nearly the same way, but we need to consider the homotopy classes of closed curves shorter than $2\cdot \pi$.
One also need to apply \ref{ex:null-homotopic}, to show that curves $\gamma_1$ and $\gamma_2$ are not contractible in the class of curves shorter than $2\cdot \pi$.

\parit{Remark.}
The statement of the exercise fails if the requirement that $\spc{X}$ be compact is replaced by the assumption that it is proper.
For example, the surface of revolution of the graph of $y=e^x$ around the $x$-axis is locally $\CAT(0)$ but has no closed geodesics.


\parbf{\ref{ex:branching-cover}.}
Consider a closed $\eps$-neighborhood $A$ of the geodesic.
Note that $A_\eps$ is convex.
By the Reshetnyak gluing theorem, the double $\spc{W}_\eps$ of $\spc{U}$ along $A_\eps$ is $\CAT(0)$.

Consider the space $\spc{W}'_\eps$ obtained by doubly covering $\spc{U}\setminus A_\eps$ and gluing back~$A_\eps$.

Observe that $\spc{W}'_\eps$ is locally isometric to $\spc{W}_\eps$. 
That is, for any point $p'\in\spc{W}'_\eps$ there is a point $p\in\spc{W}_\eps$ such that the $\delta$-neighborhood of $p'$ is isometric to the $\delta$-neighborhood of $p$ for all small $\delta>0$.

Further observe that $\spc{W}'_\eps$ is simply connected since it admits a deformation retraction onto $A_\eps$, which is contractible.
By the globalization theorem, $\spc{W}'_\eps$ is $\CAT(0)$.

It remains to note that $\tilde {\spc{U}}$ can be obtained as a limit of $\spc{W}'_\eps$ as $\eps\to 0$, and apply Proposition~\ref{prop:cat-limit}.

\parbf{\ref{ex:geod-CBA}.}
Recall that by Proposition~\ref{cor:loc-geod-are-min}, any local geodesic shorter in $\spc{U}$ is a geodesic.

Consider a sequence of directions $\xi_n$ 
at $p$
of geodesics $[pq_n]$.
Since the geodesics are extendable, we can assume that the distances $\dist{p}{q_n}{\spc{U}}=1$ for any $n$.

Since $\spc{U}$ is proper,
we can pass to a converging subsequence of $q_n$;
denote its limit by~$q$.
Since $q_n\to q$, the comparison implies that $\mangle\hinge p{q_n}q\to 0$ as $n\to \infty$.
Therefore the direction $\xi$ of $[pq]$ is the limit of directions $\xi_n$.

\begin{wrapfigure}{r}{45 mm}
\vskip-0mm
\centering
\includegraphics{mppics/pic-12}
\end{wrapfigure}

Note that the unit disc in the plane with attached half-line to each point is a complete $\CAT(0)$ length space with extendable geodesics. 
However, the space of geodesic directions on the boundary of the disc is not complete --- there is no geodesic tangent to the boundary of the disc.
This provides a counterexample to the statement of the exercise if  $\spc{U}$ is not assumed to be proper.

\parbf{\ref{ex:tan(CAT)isCAT}.} Given a constant speed geodesic $\alpha$ starting at $p$, consider sequence of points $x_n=\alpha(\tfrac1n)$.
Note that $n\cdot\dist{p}{x_n}{}$ is constant.
Therefore if we consider $x_n$ as a point in $n\cdot \spc{X}$, then this sequence has an $\omega$-limit $\iota(\alpha)$ in $\T_p^\omega$.

Observe that $\iota$ defines a distance-preserving map $\T_p'\to \T_p^\omega$.
Since $\T_p^\omega$ is complete, this map can be extended to $\T_p$.
Whence the statement follows.

Since $\spc{X}$ is $\CAT(0)$, so is $n\cdot \spc{X}$, and by \ref{prop:cat-limit} so is $\T_p^\omega\spc{X}$.
Since $\T_p\spc{X}$ is naturally isometric to a subspace of $\T_p^\omega$, we get that $\T_p\spc{X}$ is $\CAT(0)$ as well.

\parit{Remark.}
The ultratangent space might be larger than tangent space.
For example, let $\text{ле}$ be a {}\emph{comb} with a spine formed by a real line and a half-line (a tooth) attached to each point of the spine.
Then for $p=0$ on the spine, $\T_p\text{ле}$ is formed by three half-lines meeting at one point, while $\T_p^\omega\text{ле}$ is isometric to $\text{ле}$.


\parbf{\ref{ex:tan(CAT)is-length}.}
Observe that it is sufficient to show that the space of directions $\Sigma_p$ is a \index{length space!$\pi$-length space}\emph{$\pi$-length space}; the latter means that the defining condition of length space holds for pairs of points on distance less than~$\pi$.

Since $\Sigma_p$ is complete,
the same argument as in \ref{lem:mid>length}, shows that it sufficient to prove existence of almost midpoints for pairs of point on distance less than $\pi$;
that is, if $\mangle(\xi,\zeta)<\pi$, then, given $\eps>0$, there is $\mu\in \Sigma_p$ such that 
\[\mangle(\xi,\mu),\quad \mangle(\mu,\zeta) \le \tfrac12\cdot \mangle(\xi,\zeta)+\eps.\eqlbl{eq:dir-mid}\]

Without loss of generality we may assume that $\zeta$ and $\xi$ are geodesic directions;
so there are geodesics $[px]$ and $[pz]$ that start from $p$ in these directions; in particular, $\mangle\hinge pxz=\mangle(\xi,\zeta)$.
Fix small $r>0$ and choose points $\bar x=[px]$ and $\bar z=[pz]$ on the distance $r$ from $p$.
Since $r$ is small, we can assume that 
\[\mangle\hinge pxz+\eps>\angk{p}{\bar x}{\bar z}.\]

Take a midpoint $m$ of $[\bar x\bar y]$.
By Alexandrov's lemma (\ref{lem:alex})
\[\angk{p}{\bar x}{m},\quad \angk{p}{m}{\bar z}\le \tfrac12\cdot \angk{p}{\bar x}{\bar z}.\]
By comparison
\[\angk{p}{\bar x}{m}\ge \mangle\hinge p{\bar x}{m}
\quad\text{and}\quad
\angk{p}{\bar z}{m}\ge \mangle\hinge p{\bar z}{m}.
\]
Whence \ref{eq:dir-mid} holds for the direction $\mu$ of $[pm]$.

\parbf{\ref{ex:unique-geod=CAT}.}
Assume $\spc{P}$ is not $\CAT(0)$.
Then by \ref{thm:PL-CAT}, a link $\Sigma$ of some simplex contains a closed geodesic $\alpha$ with length $4\cdot\ell<2\cdot\pi$.
We can assume that $\Sigma$ has minimal possible dimension;
so, by \ref{thm:PL-CAT}, $\Sigma$ is locally $\CAT(1)$.

Divide $\alpha$ into two equal arcs $\alpha_1$ and $\alpha_2$.

Assume $\alpha_1$ and $\alpha_2$ are length minimizing;
parameterize them by $[-\ell,\ell]$.
Fix a small $\delta>0$ and 
consider two curves in $\Cone\Sigma$ written in polar coordinates as 
\[\gamma_i(t)=(\alpha_i(\arctan \tfrac t\delta),\sqrt{\delta^2+t^2}).\]
Observe that both curves $\gamma_1$ and $\gamma_2$ are geodesics in $\Cone\Sigma$ and  have common ends.

Observe that a small neighborhood of the tip of $\Cone\Sigma$ admits an isometric embedding into~$\spc{P}$.
Hence we can construct two geodesics $\gamma_1$ and $\gamma_2$ in $\spc{P}$ with common endpoints.

It remains to consider the case when $\alpha_1$ (and therefore $\alpha_2$) is not length minimizing.

Pass to its maximal length minimizing arc $\bar\alpha_1$ of $\alpha_1$.
Since $\Sigma$ is locally $\CAT(1)$, \ref{cor:discrete-paths} implies that 
there is another geodesic $\bar\alpha_2$ in $\Sigma_p$ that shares endpoints with $\bar\alpha_1$.
It remains to repeat the above construction for the pair $\bar\alpha_1$, $\bar\alpha_2$.


\parit{Remark.}
By \ref{ex:CAT-geodesic}, the given condition is a necessary and sufficient.

\parbf{\ref{ex:flag>=pi/2}.}
Use induction on the dimension  to prove that if in a spherical simplex $\triangle$ every edge is at least $\tfrac\pi2$, then 
all dihedral angles of $\triangle$ are at least~$\tfrac\pi2$.

The rest of the proof goes along the same lines as the proof of the flag condition (\ref{thm:flag}).
The only difference is that a geodesic may spend time {}\emph{at least} $\pi$ on each visit to $\Star_v$.

\parit{Remark.}
Note that it is not sufficient to assume only that the all dihedral angles of the simplices are at least~$\tfrac\pi2$. 
Indeed, the two-dimensional sphere with removed interior of a small rhombus is a spherical polyhedral space glued from four triangles with all the angles at least~$\tfrac\pi2$.
On the other hand the boundary of the rhombus is closed local geodesic in this space.
Therefore the space cannot be $\CAT(1)$.

\parbf{\ref{ex:tree}.}
The space $\spc{T}_n$ has a natural cone structure with the vertex formed by the  completely degenerate tree --- all its edges have zero length.

Note that the space $\Sigma$
over which the cone is taken comes naturally with a triangulation 
with all-right spherical simplicies.
Each simplex corresponds to a combinatorics of a possibly degenerate tree.

Note that the link of any simplex of this triangulation satisfies the no-triangle condition (\ref{def:flag}).
Indeed, fix a simplex $\triangle$ of the complex;
suppose it is described by a possibly degenerate topological tree $t$.
A triangle in the link of  $\triangle$ can be described by three ways to resolve a degeneracy of $t$ by adding one edge,
such that (1) any pair of these resolutions can be done simultaneously, but (2) all three cannot be done simultaneously.
Direct inspection shows that this is impossible.

Therefore, by Proposition~\ref{prop:no-trig} our complex is flag.
It remains to apply the flag condition (\ref{thm:flag}), and then \ref{ex:cone+susp}.

\parbf{\ref{ex:flag-aspherical}.}
If the complex $\mathcal{S}$ is flag, then its cubical analog $\square_{\mathcal{S}}$ is locally $\CAT(0)$ and therefore aspherical.

Assume now that the complex $\mathcal{S}$ is not flag. 
Extend it to a flag complex $\mathcal{T}$ by gluing a simplex in every clique (that is, a complete subgraph) of its one-skeleton.

Note that the cubical analog $\square_{\mathcal{S}}$ is a proper subcomplex in $\square_{\mathcal{T}}$.
Since $\mathcal{T}$ is flag,
$\tilde\square_{\mathcal{T}}$,
the universal cover of $\square_{\mathcal{T}}$, is $\CAT(0)$.
Let $\tilde\square_{\mathcal{S}}$ be the inverse image of $\square_{\mathcal{S}}$ in $\tilde\square_{\mathcal{T}}$.

Choose a cube $Q$ with minimal dimension in $\tilde\square_{\mathcal{T}}$ which is not present in $\tilde\square_{\mathcal{S}}$.
By \ref{ex:locally-convex}, $Q$ is a convex set in $\tilde\square_{\mathcal{T}}$.
The closest point projection $\tilde\square_{\mathcal{T}}\to Q$ is a retraction.
It follows that the boundary $\partial Q$ is not contractible in $\tilde\square_{\mathcal{T}}\setminus\Int Q$.
Therefore the spheroid $\partial Q$ is not contractible in $\tilde\square_{\mathcal{S}}$.
That is, a covering of $\square_{\mathcal{S}}$ is not aspherical and therefore $\square_{\mathcal{S}}$ is not as well.

\parbf{\ref{ex:example-pi_infty-new}.}
The solution goes along the same lines as the proof of Lemma \ref{lem:example-pi_infty}, but few changes are needed.

The cycle $\gamma$ is taken in the complement $\mathcal{S}\setminus\{v\}$ (or, alternatively, in the link of $v$ in $\mathcal{S}$).
Instead of a vertex, one has to take edge $e$ in $\tilde Q$ that corresponds to $v$; so we show existence of large cycle in $\tilde Q$ that is not contractible in $\tilde Q\setminus e$.
The last change is not principle:
it is more visual to think that $G$ is made from the squares parallel to the squares of the cubical complex which meet the edges of the complex orthogonally at their midpoints (in this case formally speaking $G$ is not a subcomplex of the cubical analog).

\parbf{\ref{ex:cube-infty=>cube-2}}; \ref{SHORT.cube-infty}$\Rightarrow$\ref{SHORT.cube-2}.
By \ref{ex:inj=complete-geodesic-contractible:contractible}, $Q$ is contractible.
Therefore the globalization theorem and flag condition (\ref{thm:hadamard-cartan} and \ref{thm:flag}) imply that it is sufficient to show that each link in $Q$ is flag.
Further, by \ref{prop:no-trig} it is sufficient to show that link of each cube in $Q$ satisfies no-triangle condition.

\begin{wrapfigure}{r}{25 mm}
\vskip-2mm
\centering
\includegraphics{mppics/pic-13}
\end{wrapfigure}

Arguing by contradiction, we can assume that no-triangle condition does not hold at a vertex $v$; that is, a zero-dimensional cube.
In this case $v$ is a vertex of there edges $e_x$, $e_y$, and $e_z$;
each pair of edges belong to one of the squares $s_x$, $s_y$, and $s_z$ with complementary index, but the squares $s_x$, $s_y$, $s_z$ do not belong to one cube.
For higher dimensional cubes we have a product of this configuration with a cube.

Let $m_x$, $m_y$ and $m_z$ be the midpoints of $e_x$, $e_y$, and $e_z$ respectively.
Consider 3 balls with centers $m_x$, $m_y$ and $m_z$ and radius $\tfrac14$.
Observe that each pair of balls have a common point;
but all three together have no points of intersection.
By \ref{thm:injective=hyperconvex:balls}, the latter implies that $(Q,\ell^\infty)$ is not an injective space --- a contradiction.


\parit{\ref{SHORT.cube-1}$\Rightarrow$\ref{SHORT.cube-2}.}
Observe that median point $m(x,y,z)$ of depends continuously on triple of points $(x,y,z)$ and $m(x,x,y)=x$.

Given a loop $\gamma\:[0,1]\to Q$ with base at $p=\gamma(0)=\gamma(1)$,
consider the map $(a,b)\mapsto m(p,\gamma(a),\gamma(b))$ of the triangle $\triangle$ defined by $0\z\le a \z\le b\z\le 1$.
Note that boundary of triangle runs along $\gamma$.
It follows that $\gamma$ is null homotopic and therefore $Q$ is simply connected.

\begin{wrapfigure}{r}{25 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-15}
\end{wrapfigure}

It remains to check that all links of $Q$ satisfy no-triangle condition.

Assume that a link of $Q$ does not satisfy the no-triangle condition.
The same way as in the previous problem, we can assume that it is a link of a vertex;
so we have a configuration of three squares $s_x$, $s_y$, and $s_z$, 
three edges $e_x$, $e_y$, and $e_z$, and one common vertex $v$ as above.
Observe that the centers $x$, $y$, and $z$ of the squares $s_x$, $s_y$, and $s_z$.
Observe that the geodesics $[xy]_{\ell^1}$, $[xz]_{\ell^1}$, and $[yz]_{\ell^1}$ are uniquely defined and they have no common point.
It follows that the triple $(x,y,z)$ does not have a median; 
that is, $(Q,\ell^1)$ is not a median space --- a contradiction.


\parbf{\ref{ex:hemisphere}.}
Let $\alpha$ be a closed curve in $\mathbb{S}^2$ of length $2\cdot\ell$.

Assume $\ell<\pi$.
Let $\alpha_1$ be a subarc of $\alpha$ of length $\ell$, with endpoints $p$ and~$q$. 
Since $\dist{p}{q}{}\le\ell<\pi$, there is a unique geodesic $[pq]$ in~$\mathbb{S}^2$.  
Let $z$ be the midpoint of $[pq]$. 

We claim that $\alpha$ lies in the open hemisphere $H$ centered at~$z$.  

Assume the contrary; that is, $\alpha$ meets the equator $\partial H$ at a point $r$.
Without loss of generality we may assume that $r\in\alpha_1$.

\begin{wrapfigure}{r}{30 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-17}
\end{wrapfigure}

The arc $\alpha_1$ together with its reflection $\alpha_1^*$ in $z$ form a closed curve of length $2\cdot \ell$ which meets $r$ and its antipodal point~$r'$.
Thus 
\[\ell\z=\length \alpha_1\ge \dist{r}{r'}{}=\pi\] 
--- a contradiction.

\parit{Solution with the Crofton formula.}
Let $\alpha$ be a closed curve in  $\mathbb{S}^2$ of length $\le 2\cdot\pi$.  We wish to prove that $\alpha$ is contained in a hemisphere in~$\mathbb{S}^2$.
By approximation it suffices to prove this for  smooth curves $\alpha$ of length $< 2\cdot\pi$ with transverse self-intersections. 

Given $v\in \mathbb{S}^2$, denote by $v^\perp$ the equator in $\mathbb{S}^2$ with the pole at~$v$.
Further, $\# X$ will denote the number of points in the set~$X$.

Obviously,  if $\#(\alpha\cap v^\perp) =0$, then $\alpha$ is contained in one of the hemispheres determined by~$v^\perp$. 
Note that $\#(\alpha\cap v^\perp)$ is even for almost all~$v$.

Therefore, if $\alpha$ does not lie in a hemisphere, then
$\#(\alpha\cap v^\perp) \ge 2$ for almost all $v\in\mathbb{S}^2$.  

By the Crofton formula we have that
\begin{align*}
\length(\alpha)
&=\frac 1 4\cdot \int\limits_{\mathbb{S}^2}\#(\alpha\cap v^\perp)\cdot d_v\area\ge
\\
&\ge2\cdot\pi.
\end{align*}

\parbf{\ref{ex:inner-support}.}
Since  $\Omega$ is not two-convex, 
we can choose a simple closed curve $\gamma$ that lies in the intersection of a plane $W_0$ and $\Omega$, 
and is contractible in $\Omega$ but not contractible in $\Omega\cap W_0$.

\begin{wrapfigure}{r}{45 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-19}
\end{wrapfigure}

Let $\phi\:\DD\to \Omega$ be a disc that  shrinks~$\gamma$.
Applying the loop theorem (arguing as in the proof of Proposition~\ref{prop:3d-strong-2-convexity}), we can assume that $\phi$ is an embedding and $\phi(\DD)$ lies on one side of~$W_0$.

Let $Q$ be the bounded closed domain cut from $\EE^3$ by $\phi(\DD)$ and~$W_0$. 
By assumption it contains a point that is not in~$\Omega$. 
Changing $W_0,\gamma$ and $\phi$ slightly, we can assume that such a point lies in the interior of~$Q$.

Fix a circle $\Gamma$ in $W_0$ that  surrounds $Q\cap W_0$.
Since $Q$ lies in a half-space with boundary $W_0$, there is a
smallest spherical dome with boundary $\Gamma$ that  includes the set $R=Q\setminus\Omega$.

The dome has to touch $R$ at some point~$p$.
The plane $W$ tangent to the dome at $p$ has the required property --- the point $p$ is an isolated point of the complement $W\setminus \Omega$.
Further, by construction a small circle around $p$ in $W$ is contractible in $\Omega$.

\parbf{\ref{ex:convex+saddle+broken=>PL}.}
The proof is simple and visual, but it is hard to write it formally in a non-tedious way.

\medskip

Consider the surface $\bar S$ 
formed by the closure of the remaining part $S$ of the boundary.
Note that the boundary $\partial S$ of $\bar S$ is a collection of closed polygonal lines.

Assume $\bar S$ is not piecewise linear.
Show that there is a line segment $[pq]$ in $\EE^3$ that is tangent to $\bar S$ at some point $p$ and    has no common points with $\bar S$ except~$p$.

Since $\bar S$ is locally concave,
there is a local inner supporting plane $\Pi$ at $p$ that contains the segment $[pq]$.

\begin{wrapfigure}{r}{35 mm}
\vskip-0mm
\centering
\includegraphics{mppics/pic-21}
\end{wrapfigure}

Show that $\Pi\cap \bar S$ contains a segment $[xy]\z\ni p$ with the ends in $\partial \bar S$.
Denote by $\Pi^+$ the half-plane in $\Pi$ that contains $[pq]$ and has $[xy]$ in its boundary.

Use the fact that $[pq]$ is tangent to $S$ to show that there is a point $z\in\partial \bar S$ such that the line segment $[xz]$ or $[yz]$ lies in $\partial \bar S\cap\Pi^+$.
 

From the latter statement and local convexity of $\bar S$, 
it follows that the solid triangle $[xyz]$ lies in~$\bar S$.
In particular, all points on $[pq]$ sufficiently close to $p$ lie in $\bar S$ --- a contradiction.


