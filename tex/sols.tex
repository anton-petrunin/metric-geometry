\chapter{Semisolutions}

\parbf{Exercise~\ref{ex:almost-min}.}
Assume the statement is wrong. 
Then for any point $x\in \spc{X}$, there is a point $x'\in \spc{X}$ such that 
\[\dist{x}{x'}{}< \rho(x)
\quad\text{and}\quad
\rho(x')\le\frac{\rho(x)}{1+\eps}.\]
Consider a sequence of points $(x_n)$ such that $x_{n+1}\z=x_n'$.
Clearly 
\[\dist{x_{n+1}}{x_n}{}
\le
\frac{\rho(x_0)}{\eps\cdot(1+\eps)^n}
\quad\hbox{and}\quad
\rho(x_n)\le \frac{\rho(x_0)}{(1+\eps)^n}.\] 
Therefore $(x_n)$ is Cauchy.
Since $\spc{X}$, the sequence $(x_n)$;
denote its limit by $x_\infty$.
Since $\rho$ is a continuous function we get
\begin{align*}\rho(x_\infty)&=\lim_{n\to\infty}\rho(x_n)=
\\&=0.
\end{align*}

The latter contradicts that $\rho>0$.
\qeds

\parbf{Exercise~\ref{ex:non-contracting-map}.}
Given any pair of point $x_0,y_0\in \spc{K}$, 
consider two sequences $x_0,x_1,\dots$ and $y_0,y_1,\dots$
such that $x_{n+1}=f(x_n)$ and $y_{n+1}\z=f(y_n)$ for each $n$.

Since $\spc{K}$ is compact, 
we can choose an increasing sequence of integers $n_k$
such that both sequences $(x_{n_i})_{i=1}^\infty$ and $(y_{n_i})_{i=1}^\infty$
converge.
In particular, both are Cauchy sequences;
that is,
\[
|x_{n_i}-x_{n_j}|_{\spc{K}}, |y_{n_i}-y_{n_j}|_{\spc{K}}\to 0
\quad
\text{as}
\quad\min\{i,j\}\to\infty.
\]


Since $f$ is non-contracting, we get
\[
|x_0-x_{|n_i-n_j|}|
\le 
|x_{n_i}-x_{n_j}|.
\]

It follows that  
there is a sequence $m_i\to\infty$ such that
\[
x_{m_i}\to x_0\quad\text{and}\quad y_{m_i}\to y_0\quad\text{as}\quad i\to\infty.
\leqno({*})\]

Set \[\ell_n=|x_n-y_n|_{\spc{K}}.\]
Since $f$ is non-contracting, the sequence $(\ell_n)$ is non-decreasing.

By $({*})$,  $\ell_{m_i}\to\ell_0$ as $m_i\to\infty$.
It follows that $(\ell_n)$ is a constant sequence.

In particular 
\[|x_0-y_0|_{\spc{K}}=\ell_0=\ell_1=|f(x_0)-f(y_0)|_{\spc{K}}\]
for any pair of points $(x_0,y_0)$ in $\spc{K}$.
That is, $f$ is distance preserving, in particular injective.

From $({*})$, we also get that $f(\spc{K})$ is everywhere dense.
Since $\spc{K}$ is compact $f\:\spc{K}\to \spc{K}$ is surjective. Hence the result follows.\qeds


This is a basic lemma in the introduction to Gromov--Hausdorff distance \cite[see 7.3.30 in][]{burago-burago-ivanov}.
I learned this proof from Travis Morrison, 
a student in my MASS class at Penn State, Fall 2011.

Note that as an easy corollary one can see that any surjective non-expanding map from a compact metric space to itself is an isometry.




\parbf{Exercise~\ref{ex:no-geod}.}
We assume that the space is not trivial, otherwise a one-point space is an example.

Consider the unit ball $(B,\rho_0)$
in the space $c_0$ of all sequences converging to zero equipped with the sup-norm.

Consider another metric $\rho_1$ which is different from $\rho_0$ by the conformal factor
\[\phi(\bm{x})=2+\tfrac{1}2\cdot x_1+\tfrac{1}4\cdot x_2+\tfrac{1}8\cdot x_3+\dots,\]
where $\bm{x}=(x_1,x_2\,\dots)\in B$.
That is, if $\bm{x}(t)$, $t\in[0,\ell]$, is a curve parametrized by $\rho_0$-length 
then its $\rho_1$-length is 
\[\length_{\rho_1}\bm{x}=\int\limits_0^\ell\phi\circ\bm{x}.\]
Note that the metric $\rho_1$ is bi-Lipschitz to~$\rho_0$.

Assume $\bm{x}(t)$ and $\bm{x}'(t)$ are two curves parametrized by $\rho_0$-length that differ only in the $m$-th coordinate, denoted by $x_m(t)$ and $x_m'(t)$ correspondingly.
Note that if $x'_m(t)\le x_m(t)$ for any $t$ and 
the function $x'_m(t)$ is locally $1$-Lipschitz at all $t$ such that $x'_m(t)< x_m(t)$, then 
\[\length_{\rho_1}\bm{x}'\le \length_{\rho_1}\bm{x}.\]
Moreover this inequality is strict if $x'_m(t)< x_m(t)$ for some~$t$.

Fix a curve $\bm{x}(t)$, $t\in[0,\ell]$, parametrized by  $\rho_0$-length.
We can choose $m$ large, so that $x_m(t)$ is sufficiently close to $0$ for any~$t$.
In particular, for some values $t$, we have $y_m(t)<x_m(t)$, where
\[y_m(t)=(1-\tfrac t\ell)\cdot x_m(0)
+\tfrac t\ell\cdot x_m(\ell)
-\tfrac 1{100}\cdot \min\{t,\ell-t\}.\]
Consider the curve $\bm{x}'(t)$ as above with
\[x'_m(t)=\min\{x_m(t),y_m(t)\}.\]
Note that $\bm{x}'(t)$ and $\bm{x}(t)$ have the same end points, and by the above
\[\length_{\rho_1}\bm{x}'<\length_{\rho_1}\bm{x}.\]
That is, for any curve $\bm{x}(t)$ in $(B,\rho_1)$, we can find a shorter curve $\bm{x}'(t)$ with the same end points.
In particular, $(B,\rho_1)$ has no geodesics.\qeds

This example was suggested by Fedor Nazarov~\cite{nazarov}.

\parbf{Exercise~\ref{ex:compact=>complete}.}
Choose a Cauchy sequence $(x_n)$ in $(\spc{X},\|*-*\|)$; it sufficient to show that a subsequence of $(x_n)$ converges.

Note that the sequence $(x_n)$ is Cauchy in $(\spc{X},|*-*|)$;
denote its limit by $x_\infty$.

After passing to a subsequence, we can assume that $\|x_n-x_{n+1}\|\z<\tfrac1{2^n}$.
It follows that there is a 1-Lipschitz path $\gamma$ in $(\spc{X},\|*-*\|)$ such that $x_n=\gamma(\tfrac1{2^n})$ for each $n$ and $x_\infty=\gamma(0)$.

It follows that
\begin{align*}
\|x_\infty-x_n\|&\le \length\gamma|_{[0,\frac1{2^n}]}\le
\\
&\le \tfrac1{2^n}.
\end{align*}
In particular $x_n$ converges.\qeds

Source: \cite[Lemma 2.3]{petrunin-stadler}.


\begin{wrapfigure}{o}{20 mm}
\vskip-0mm
\centering
\includegraphics{mppics/pic-1}
\end{wrapfigure}

\parbf{Exercise~\ref{exercise from BH}.}
Consider the following subset of $\RR^2$ equipped with the induced length metric
\[
\spc{X}
=
\bigl((0,1]\times\{0,1\}\bigr)
\cup
\bigl(\{1,\tfrac12,\tfrac13,\dots\}\times[0,1]\bigr)
\]
Note that $\spc{X}$ is locally compact and geodesic.

Its completion $\bar{\spc{X}}$ is isometric to the closure of $\spc{X}$ equipped with the induced length metric;
$\bar{\spc{X}}$ is obtained from $\spc{X}$ by adding two points $p=(0,0)$ and $q=(0,1)$.

The point $p$ admits no compact neighborhood in $\bar{\spc{X}}$ 
and there is no geodesic connecting $p$ to $q$ in~$\bar{\spc{X}}$. \qeds

This exercise and its solution is taken from \cite{bridson-haefliger}.


\parbf{Exercise~\ref{ex:compact-length}.} By Frechet lemma (\ref{lem:frechet}) we can identify $\spc{K}$ with a compact subset of $\ell^\infty$.

Denote by $\spc{L}=\Conv\spc{K}$ --- it is defined as the minimal convex closed set in $\ell^\infty$ that contains $\spc{K}$.
(In other words, $\spc{L}$ is the intersection of all convex closed sets that contain $\spc{K}$.)
Observe that $\spc{L}$ is a length space.

Let us show that since $\spc{K}$ is compact, so is $\spc{L}$.
By construction $\spc{L}$ is closed subset of $\ell^\infty$, in particular it is a complete space.
By \ref{totally-bounded}, it remains to show that $\spc{L}$ is totally bounded.

Recall that Minkowski sum $A + B$ of two sets $A$ and $B$ in a vector space is defined by
\[A + B = \set{a+b}{a\in A,\ b\in B}.\]
Observe that Minkowski sum of two convex sets is convex.

Denote by $\bar B_\eps$ the closed $\eps$-ball in $\ell^\infty$ centered at the origin.
Choose a finite $\eps$-net $N$ in $\spc{K}$ for some $\eps>0$.
Note that $P=\Conv N$ is a convex polyhedron, in particular $\Conv N$ is compact.

Observe that $N+\bar B_\eps$ is closed $\eps$-neighborhood of $N$;
therefore $N+\bar B_\eps\supset K$.
Therefore $P+\bar B_\eps\supset \spc{L}$;
in particular $P$ is a $2\cdot\eps$-net in $\spc{L}$.
That is, $\spc{L}$ admits a compact $\eps$-net for any $\eps>0$.
Therefore $\spc{L}$ is totally bounded (see \ref{ex:compact-net}).



\parbf{Exercise~\ref{ex:Hausdorff-bry}.}
The answer is ``no'' in both parts.

For the first part let $X$ be a unit disc and $Y$ a finite $\eps$-net in $X$.
Evidently $|X-Y|_{\mathcal{H}(\RR^2)}<\eps$, 
but
$|\partial X-\partial Y|_{\mathcal{H}(\RR^2)}\approx 1$.

For the second part take $X$ to be a unit disc and $Y=\partial X$ to be its boundary circle.
Note that $\partial X=\partial Y$ in particular $\dist{\partial X}{\partial Y}{\mathcal{H}(\RR^2)}=0$ while $\dist{ X}{ Y}{\mathcal{H}(\RR^2)}=1$.
\qeds

A more interesting example for the second part can be build on \emph{lakes of Wada} --- and example of three open bounded topological disks in the plane that have identical boundary.

\parbf{Exercise~\ref{ex:Huas-perimeter-area}.}
Let $A$ be a compact convex set in the plane.
Denote by $A^r$ the closed $r$-neighborhood of $A$.
Recall that by Steiner's formula we have
\[\area A^r=\area A+r\cdot\perim A+\pi\cdot r^2.\]
Taking derivative and applying coarea formula, we get 
\[\perim A^r=\perim A+2\cdot\pi\cdot r.\]

Observe that if $A$ lies in a compact set $B$ bounded by a colsed curve, then 
\[\perim A\le \perim B.\]
Indeed the closest-point projection $\RR^2\to A$ is short and it maps $\partial B$ onto $\partial A$.

It remains to observe that if $A_n\to A_\infty$, then for any $r>0$ we have that
\[A_\infty^r\supset A_n
\quad\text{and}\quad
A_\infty\subset A_n^r\]
for all large $n$.

\parbf{Exercise~\ref{ex:GH-po}.}
In order to check that $\dist{*}{*}{\spc{M}'}$ is a metric, it is sufficient to show that
\[\dist{\spc{X}}{\spc{Y}}{\spc{M}'}=0 
\quad\Longrightarrow\quad
\spc{X}\iso\spc{Y};\]
the remaining conditions are trivial.

If $\dist{\spc{X}}{\spc{Y}}{\spc{M}'}=0$, then there is a sequence of maps $f_n\:\spc{X}\to \spc{Y}$ such that 
\[\dist{f_n(x)}{f_n(x')}{\spc{Y}}\ge \dist{x}{x'}{\spc{X}}-\tfrac1n.\]

Choose a countable dense set $S$ in $\spc{X}$.
Passing to a subsequence of $f_n$ we can assume that $f_n(x)$ converges for any $x\in S$ as $n\to\infty$;
denote its limit by $f_\infty(x)$.

For each point $x\in\spc{X}$ choose a sequence $x_m\in S$ converging to $x$.
Since $\spc{Y}$ is compact, we can assume in addition that $y_m=f_\infty(x_m)$ converges in $\spc{Y}$.
Set $f_\infty(x)=y$.
Note that the map $f_\infty\:\spc{X}\to \spc{Y}$ is  distance non-decreasing.

The same way we can construct a distance non-decreasing map 
$g_\infty\:\spc{Y}\to \spc{X}$.

By Exercise~\ref{ex:non-contracting-map}, the compositions $f_\infty\circ g_\infty\:\spc{Y}\to \spc{Y}$ and $g_\infty\z\circ f_\infty\:\spc{X}\to \spc{X}$ are isometrises.
Therefore $f_\infty$ and $g_\infty$ are isometries as well.

%Observe that 
%$$|\spc{X}_n-\spc{X}_\infty|_{\mathcal{M}}\to 0 
%\quad\Longrightarrow\quad 
%\dist{\spc{X}_n}{\spc{X}_\infty}{\spc{M}'}\to 0$$
%follows from Proposition~\ref{prop:GH-e-isom} and Exercise~\ref{ex:alm-isom:inverse}.
%To prove that 
%$$|\spc{X}_n-\spc{X}_\infty|_{\mathcal{M}}\to 0 
%\quad\Longleftarrow\quad 
%\dist{\spc{X}_n}{\spc{X}_\infty}{\spc{M}'}\to 0,$$
%Suppose that $f_n\:\spc{X}_n\to\spc{X}_\infty$ and $g_n\:\spc{X}_\infty\to\spc{X}_n$ are $\eps_n$-almost distance non-decreasing maps for $\eps_n\to 0$.
%Arguing as above, pass to a partial limit $h$ of the sequence $f_n\circ g_n\:\spc{X}_\infty\to\spc{X}_\infty$.
%Note that $h$ is a distance non-deceasing map from a compact space to an itself.
%By Exercise~\ref{ex:non-contracting-map}, $h$ is an isometry.

(The proof of the second part is coming.) %???

\parbf{Exercise~\ref{pr:doubling}.}
Choose a space $\spc{X}$ in $\spc{Q}(C,D)$, denote a $C$-doubling measure by $\mu$.
Without loss of generality we may assume that $\mu(\spc{X})\z=1$.

The doubling condition implies that 
\[\mu[\oBall(p,\tfrac D{2^n})]\ge\tfrac 1{C^n}\]
for any point $x\in \spc{X}$.
It follows that 
\[\pack_{\frac D{2^n}}\spc{X}\le C^n.\]

By Exercise~\ref{ex:pack-net}, for any $\eps\ge\frac D{2^{n-1}}$, the space $\spc{X}$ admits an $\eps$-net with at most $C^n$ points.
Whence $\spc{Q}(C,D)$ is uniformly totally bounded.

\parbf{Exercise~\ref{pr:under}.} 
Since $\spc{Y}$ is compact, it has a finite $\eps$-net for any $\eps>0$.
For each $\eps>0$ choose a finite $\eps$-net $\{y_1,\dots,y_{n_\eps}\}$ in $\spc{Y}$.

Suppose $f\:\spc{X}\to \spc{Y}$ be a distance non-decreasing map.
Choose one point $x_i$ in each nonempty subset $B_i=f^{-1}[\oBall(y_i,\eps)]$.
Note that the subset $B_i$ has diameter at most $2\cdot \eps$ and 
\[\spc{X}=\bigcup_iB_i.\]
Therefore the set of points $\{x_i\}$ forms a $2\cdot\eps$ net in $\spc{X}$.
Whence \ref{SHORT.pr:under:if} follows.

\parit{\ref{SHORT.pr:under:only-if}.} Let $\spc{Q}$ be a uniformly totally bounded family of spaces. 
Suppose that each space in $\spc{Q}$ has an $\tfrac1{2^n}$-net with at most $M_n$ points; we may assume that $M_0=1$.

Consider the space $\spc{Y}$ of all infinite integer sequences $m_0,m_1,\dots$ such that $1\le m_n\le M_n$ for any $n$.
Given two sequences $(\ell_n)$, and $(m_n)$ of points in $\spc{Y}$, set 
\[\dist{(\ell_n)}{(m_n)}{\spc{Y}}=\tfrac C{2^{n}},\]
where $n$ is minimal index such that $\ell_n\ne m_n$ and $C$ is a positive constant.

Observe that $\spc{Y}$ is compact.
Indeed it is complete and the sequences constant starting from index $n$ form a finite $\tfrac C{2^{n}}$-net in $\spc{Y}$.

Given a space $\spc{X}$ in $\spc{Q}$,
choose a sequnce of $\tfrac1{2^n}$ nets 
$N_n\subset\spc{X}$ for each natural $n$.
We can assume that $|N_n|\le M_n$; let us enumerate the points in $N_n$ by $\{1,\dots,M_n\}$.
Consider the map $f:\spc{X}\to\spc{Y}$ defined by $f:x\to (m_1(x),m_2(x),\dots)$ where $m_n(x)$ is a number of the point in $N_n$ that lies on the distance $<\tfrac1{2^n}$ from $x$.

If $\tfrac1{2^{n-2}}\ge \dist{x}{x'}{\spc{X}}>\tfrac1{2^{n-1}}$, then $m_n(x)\ne m_n(x')$.
It follows that $\dist{f(x)}{f(x')}{\spc{Y}}\ge \tfrac C{2^{n}}$.
In particular, if $C>10$, then 
\[\dist{f(x)}{f(x')}{\spc{Y}}\ge \dist{x}{x'}{\spc{X}}\]
for any $x,x'\in \spc{X}$.
That is, $f$ is a distance non-decreasing map $\spc{X}\to \spc{Y}$.

\parbf{Exercise~\ref{ex:GH-SC},} \ref{SHORT.ex:GH-SC:circle}.
Suppose $\spc{X}_n\GHto \spc{X}$ and $\spc{X}_n$ are simply connected length metric space.
It is sufficient to show that any nontrivial covering map $f\:\tilde{\spc{X}}\to \spc{X}$ corresponds to a nontrivial covering map $f_n\:\tilde{\spc{X}}_n\to \spc{X}_n$ for large $n$.

The latter can be constructed by covering $\spc{X}_n$ by small balls that lie close to sets in $\spc{X}$ evenly covered by $f$, prepare few copies of these sets and glue them the same way as the inverse images of the evenly covered sets in $\spc{X}$ glued to obtain $\tilde{\spc{X}}$. %???

\begin{wrapfigure}{r}{40 mm}
\vskip-0mm
\centering
\includegraphics{mppics/pic-2}
\end{wrapfigure}

\parit{\ref{SHORT.ex:GH-SC:nonsc-limit}.}
Let $\spc{V}$ be a cone over Hawaiian earring.
Consider the \emph{doubled cone} $\spc{W}$ --- two copies of $\spc{V}$ with glued base points earrings (see the diagram).

The space $\spc{W}$ can be equipped with length metric for example the induced length metric from the shown embedding.

Note that $\spc{V}$ is simply connected, but $\spc{W}$ is not --- it is a good exercise in topology.

If we delete from the earrings all small circles, then the obtained double cone becomes simply connected and it remains to be close to $\spc{W}$ in the sense of Gromov--Hausdorff.

\parit{Comment.}
Note that from part \ref{SHORT.ex:GH-SC:nonsc-limit}, the limit does not admit a nontrivial covering.
So if we define fundamental group right --- as the inverse image of groups of deck transformations for all its coverings, then one may say that Gromov--Haudorff limit of simply connected length spaces is simply connected.

\parbf{Exercise~\ref{ex:sphere-to-ball},}
\textit{\ref{SHORT.ex:sphere-to-ball:2}.}
Suppose that a metric on $\mathbb{S}^2$ is close to the disc $\DD^2$.
Note that $\mathbb{S}^2$ contains a circle $\gamma$ that is close to the boundary curve of $\DD^2$.
By Jordan curve theorem, $\gamma$ divides $\mathbb{S}^2$ into two discs, say $D_1$ and $D_2$.

By \ref{ex:GH-SC:nonsc-limit}, the Gromov--Hausdorff limit of $D_1$ and $D_2$ have to contain whole $\DD^2$, otherwise the limit would admit a nontrivial covering.
Consider points $p_1\in D_1$ and $p_2\in D_2$ that a close to the center of $\DD^2$.
On one hand the distance $\dist{p_1}{p_2}{n}$ have to be very small.
On the other hand, any curve from $p_1$ to $p_2$ must cross $\gamma$, so it has legnth about 2 at least --- a contradiction.



\parit{\ref{SHORT.ex:sphere-to-ball:3}.}
Make fine burrows in the standard 3-ball without changing its topology,
but at the same time come sufficiently close to any point in the ball.

Consider the \emph{doubling} of the obtained ball along its boundary;
that is, two copies of the ball with identified corresponding points on their boundaries.
The obtained space is homeomorphic to $\mathbb{S}^3$.
Note that the burrows can be made 
so that the obtained space is sufficiently close to the original ball 
in the Gromov--Hausdorff metric.\qeds

Source: \cite[Exercises 7.5.13 and 7.5.17]{burago-burago-ivanov}. 


\parbf{Exercise~\ref{ex:ultrapower}.}
Part \ref{SHORT.ex:ultrapower:a} follows directly from the definitions.
Further we consider $\spc{X}$ as a subset of $\spc{X}^\omega$.

\parit{\ref{SHORT.ex:ultrapower:compact}.}
Suppose $\spc{X}$ compact.
Given a sequence $(x_n)$ in $\spc{X}$, denote its $\omega$-limit in $\spc{X}^\omega$ by $x^\omega$ and its $\omega$-limit in $\spc{X}$ by $x_\omega$.

Observe that $x^\omega=\iota(x_\omega)$.
Therefore $\iota$ is onto.

If $\spc{X}$ is not compact, we can choose a sequence $(x_n)$ such that $\dist{x_m}{x_n}{}>\eps$ for fixed $\eps>0$ and $m\ne n$.
Observe that
\[\lim_{n\to\omega}\dist{x_n}{y}{\spc{X}}\ge \tfrac\eps2\]
for any $y\in\spc{X}$.
It follows that $x_\omega$ lies on the distance at least $\tfrac\eps2$ from $\spc{X}$.

\parit{\ref{SHORT.ex:ultrapower:proper}.}
A sequence of points $(x_n)$ in $\spc{X}$ will be called $\omega$-bounded if there is a real constant $C$ such that
\[\dist{p}{x_n}{\spc{X}}\le C\] 
for $\omega$-almost all $n$.

The same argument as in \ref{SHORT.ex:ultrapower:compact} shows that any $\omega$-bounded sequence has its $\omega$-limit in $\spc{X}$.
Further if $(x_n)$ is not  $\omega$-bounded, then 
\[\lim_{n\to\omega}\dist{p}{x_n}{\spc{X}}=\infty;\]
that is $x_\omega$ does not lie in the metric component of $p$ in $\spc{X}^\omega$.

\parbf{Exercise~\ref{ex:lim(tree)}.}
Observe that if a path $\gamma$ in a metric tree from $p$ to $q$ pass thru a point $x$ on distance $\ell$ from $[pq]$, then 
\[\length\gamma\ge \dist{p}{q}{}+2\cdot \ell.\eqlbl{eq:+ell}\]

Suppose that $\spc{T}_n$ is a sequence of metric trees that $\omega$-converges to $\spc{T}_\omega$.
By \ref{obs:ultralimit-is-geodesic}, the space $\spc{T}_\omega$.

The uniqueness will follow from \ref{eq:+ell}.
Indeed, if for a geodesic $[p_\omega q_\omega]$ there is another geodesic $\gamma_\omega$ connecting its ends,
then it have to pass thru a point $x_\omega\notin [p_\omega q_\omega]$.
Choose a sequences $p_n,q_n,x_n\in\spc{T}_n$ such that $p_n\to p_\omega$, $q_n\to q_\omega$, $x_n\to x_\omega$ and $n\to\omega$.
Then 
\begin{align*}
\dist{p_\omega}{q_\omega}{}&=\length\gamma\ge \lim_{n\to\omega}(\dist{p_n}{x_n}{}+\dist{q_n}{x_n}{})\ge
\\
&\ge \lim_{n\to\omega}(\dist{p_n}{q_n}{}+2\ell_n)=
\\
\dist{p_\omega}{q_\omega}{}+2\cdot\ell_\omega.
\end{align*}
Since $x_\omega\notin [p_\omega q_\omega]$, we have that $\ell_\omega>0$ --- a contradiction.

To prove the last property consider sequence of centers of tripods $m_n$ for points $x_n,y_n,z_n\in \spc{T}_n$ and observe that its ultralimit $m_\omega$ is a the ceter of tripod with ends at $x_\omega,y_\omega,z_\omega\in \spc{T}_\omega$.

\parbf{Exercise~\ref{ex:Asym(Lob)}.} Coming soon. %???

\parbf{Exercise~\ref{ex:geodesics-urysohn}.}
Construct a separable space that has infinite number of geodesics between a pair of points, say a square will $\ell^\infty$-metric in $\RR^2$ and apply universality of Urysohn space (\ref{prop:sep-in-urys}).

\parbf{Exercise~\ref{ex:sc-urysohn}.}
It is sufficient to show that any compact subspace $\spc{K}$ of Urysohn space can be contracted to a point.

Note that any compact space $\spc{K}$ can be extended to a contractible compact space $\spc{K}'$; for example we may embed $\spc{K}$ into $\ell^\infty$ and pass to its convex hull, as it was done in \ref{ex:compact-length}.

By \ref{thm:compact-homogeneous}, there is an isometric embedding of $\spc{K}'$ that agrees with inclusion of $\spc{K}$.
Since $\spc{K}$ is contractible in $\spc{K}'$, it is contractible in $\spc{U}$.

\medskip

In fact one can contract whole Urysohn space using the following construction.

Note that points in the space $\spc{X}_\infty$ constructed in the proof of \ref{prop:univeral-separable} can be multiplied number $t\in [0,1]$ --- simply multiply each function by factor $t$.
That defines a map 
\[\lambda_t\:\spc{X}_\infty\to \spc{X}_\infty\]
that scales all distances by factor $t$.
The map $\lambda_t$ can be extended to the completion of $\spc{X}_\infty$, which is isometic to $\spc{U}_d$ (or $\spc{U}$).

Observe that 
the map $\lambda_1$ is the identity  and $\lambda_0$ maps whole space to a single point, say $x_0$ --- that is the only point of $\spc{X}_0$.
Further note that the map $(t,p)\mapsto \lambda_t(p)$ is continuous ---  in particular $\spc{U}_d$ and $\spc{U}$ are contractible.

As a bonus, observe that for any point $p\in \spc{U}_d$ the curve $t\mapsto \lambda_t(p)$ is a geodesic path from $p$ to $x_0$.

Source: \cite[(d) on page 82]{gromov-2007}.


\parbf{Exercise~\ref{ex:sphere-in-urysohn}.}
Observe that $S$ is an $d$-Urysohn space and apply uniqueness (\ref{thm:urysohn-unique}).

\parbf{Exercise~\ref{ex:compact-extension}.} 
The following claim is a key to the proof.

\begin{thm}{Claim}
Suppose $f\: K\to\RR$ is an extension function defined on a compact subset $K$ of the Urysohn space $\spc{U}$.
Then there is a point $p\in \spc{U}$ such that 
$\dist{p}{x}{}=f(x)$ for any $x\in K$.
\end{thm}

\parit{Proof.}
Without loss of generality we may assume that $f(x)>0$ for any $x\in K$.
Since $K$ is compact, we may fix $\eps>0$ such that $f(x)>\eps$.

Consider the sequenc $\eps_n=\tfrac\eps{100\cdot 2^n}$.
Choose a sequence of $\eps_n$-nets $N_n\subset K$.
Applying universality of $\spc{U}$ recursively, we may choose a point $p_n$ such that $\dist{p_n}{x}{}=f(x)$ for any $x\in N_n$ and $\dist{p_n}{p_{n-1}}{}\z=10\cdot\eps_{n-1}$.
Observe that the sequence $(p_n)$ is Cauchy and its limit $p$ meets 
$\dist{p}{x}{}=f(x)$ for any $x\in K$.
\qeds

Choose a sequence of points $(x_n)$ in $\spc{S}$.
Applying the claim, we may extend the map from $K$ to $K\cup\{x_1\}$, and further to $K\cup\{x_1,x_2\}$, and so on.
As a result we extend the distance-preserving map $f$ to whole sequence $(x_n)$.
It remains to extend it continuisly to whole space $\spc{S}$.

\parbf{Exercise~\ref{ex:+-c}.}
If $c<0$ then $r>s$.
The latter is impossible since $r$ is extremal and $s$ is admissible.

Observe that the function $\bar r=\min\{\,r,s+c\}$ is admissible.
Indeed if $\bar r(x)=r(x)$ and $\bar r(y)=r(y)$ then 
\[\bar r(x)+\bar r(y)=r(x)+ r(y)\ge \dist{x}{y}{}.\]
Further if $\bar r(x)=s(x)+c$ then 
\begin{align*}
\bar r(x)+\bar r(y)&\ge [s(x)+c]+ [s(y)-c]= 
\\
&=s(x)+s(y) \ge 
\\
&\ge\dist{x}{y}{}.
\end{align*}

Since $r$ is extremal, we have $r=\bar r$;
that is $r\le s+c$.

\parbf{Exercise~\ref{ex:inj=complete-geodesic-contractible}.}
Choose an injective space $\spc{Y}$.

\textit{\ref{SHORT.ex:inj=complete-geodesic-contractible:complete}.}
Fix a Cauchy sequence $(x_n)$ in $\spc{Y}$;
we need to show that it has a limit $x_\infty\in \spc{Y}$.
Consider metric on $\spc{X}=\NN\cup\{\infty\}$ defined by 
\begin{align*}
\dist{m}{n}{\spc{X}}&=\dist{x_m}{x_n}{\spc{Y}},
\\
\dist{m}{\infty}{\spc{X}}&=\lim_{n\to\infty}\dist{x_m}{x_n}{\spc{Y}}.
\end{align*}
Since the sequence is Cauchy, so is the sequence $\ell_n=\dist{p}{x_n}{\spc{Y}}$.
Therefore the last limit is defined.

By construction the map $n\mapsto x_n$ is distance preserving on $\NN\subset \spc{X}$.
Since $\spc{Y}$ is injective, this map can be exteneded to $\infty$ as a short map; set $\infty\mapsto x_\infty$.
Since $\dist{x_n}{x_\infty}{\spc{Y}}\le \dist{n}{\infty}{\spc{X}}$ 
and $\dist{n}{\infty}{\spc{X}}\to 0$, we get that
$x_n\to x_\infty$ as $n\to\infty$.

\textit{\ref{SHORT.ex:inj=complete-geodesic-contractible:geodesic}.}
Applying the definition of injective space, we get a midpoint for any pair of points in $\spc{Y}$.
By \ref{SHORT.ex:inj=complete-geodesic-contractible:complete},
$\spc{Y}$ is a complete space.
It remains to apply \ref{lem:mid>geod:geod}.

\textit{\ref{SHORT.ex:inj=complete-geodesic-contractible:contractible}.}
Let $k\:\spc{Y}\hookrightarrow \ell^\infty(\spc{Y})$ be the Kuratowski embedding (\ref{lem:kuratowski}).
Observe that $\ell^\infty(\spc{Y})$ is contractible;
in particular, there is a homotopy $k_t\:\spc{Y}\hookrightarrow \ell^\infty(\spc{Y})$ such that $k_0=k$ and $k_1$ is a constant map.
(In fact one can take $k_t=(1-t)\cdot k$.)

Since $k$ is distance preserving and $\spc{Y}$ is injective,
there is a short map $f\:\ell^\infty(\spc{Y})\to \spc{Y}$ such that the composition $f\circ k$ is the identity map on $\spc{Y}$.
The composition $f\circ k_t\:\spc{Y}\hookrightarrow \spc{Y}$ is a needed homotopy. 

\parbf{Exercise~\ref{ex:ultrametric}.}
Choose three points $x,y,z\in\spc{X}$ and set $\spc{A}=\{x,z\}$.
Let $f\:\spc{A}\to \spc{Y}$ be an isometry.
Then $F(y)=f(x)$ or $F(y)=f(z)$.
If  $f(y)=f(x)$, then
\begin{align*}
\dist{y}{z}{\spc{X}}&\ge  \dist{F(y)}{f(z)}{\spc{Y}}=
\\
 &=\dist{x}{z}{\spc{X}}.
\end{align*}
Analogously if $f(y)=f(z)$, then $\dist{x}{y}{\spc{X}}\ge\dist{x}{z}{\spc{X}}$.

It remains to observe that the strong triangle inequality holds in both cases.

\parbf{Exercise~\ref{ex:injective-spaces}.}
Suppose a short map $f\:A\to\spc{Y}$ is defined on a subset of a metric space $\spc{X}$.
We need to construct a short extension $F$ of $f$.

\parit{\ref{SHORT.ex:injective-spaces:R}.}
In this case $\spc{Y}=\RR$.
Without loss of generality, we may assume that $A\ne\emptyset$, otherwise map whole $\spc{X}$ to a single point.
Set 
\[F(x)=\inf\set{f(a)-\dist{a}{x}{}}{a\in A}.\] 
Observe that $F$ is short and $F(a)=f(a)$ for any $a\in A$.

\parit{\ref{SHORT.ex:injective-spaces:tree}.}
In this case $\spc{Y}$ is a complete metric tree.
Fix a point $p\in \spc{X}$ and $q\in\spc{Y}$.
Given a point $a\in A$,
let $x_a\in\cBall[f(a),\dist{a}{p}{}]$ be the point closest to $f(x)$.
Note that $x_a\in[q\,f(a)]$ and either $x_a=q$ or $x_a$ lies on distance $\dist{a}{p}{}$ from $f(a)$.

Note that the geodesics $[q\,x_a]$ are nested;
that is, for any $a,b\in A$ we have either $[q\,x_a]\subset [q\,x_b]$ or $[q\,x_b]\subset [q\,x_a]$.
Moreover, in the first case we have $\dist{x_b}{f(a)}{}\le \dist{p}{a}{}$ and in the second $\dist{x_a}{f(b)}{}\le \dist{p}{b}{}$.

It follows that the closure of the union of all geodesics $[q\,x_a]$ for $a\in\spc{A}$ is a geodesic.
Denote by $x$ its end (it exists since $\spc{Y}$ is complete).
It remains to observe that $\dist{x}{f(a)}{}\le \dist{p}{a}{}$ for any $a\in\spc{A}$;
that is, one one can take $f(p)=x$.

\parit{\ref{SHORT.ex:injective-spaces:ell-infty}.}
In this case $\spc{Y}=(\RR^2,\ell^\infty)$.
Note that the map $\spc{X}\to (\RR^2,\ell^\infty)$ is short if and only if both of its coordinate projections are short.
It remains to apply \ref{SHORT.ex:injective-spaces:R}.

\parbf{Exercise~\ref{ex:tripod+square}}; \ref{SHORT.ex:tripod+square:tripod}.
Let $f$ be an extremal function.
Observe that at least two of the numbers $f(a)+f(b)$, $f(b)+f(c)$, and $f(c)+f(a)$ are $1$.
It follows that for some $x\in[0,\tfrac12]$, we have 
\begin{align*}
f(a)&=1\pm x,&
f(b)&=1\pm x,&
f(c)&=1\pm x,
\end{align*}
where we have one ``$-$'' and two ``$+$'' in these three formulas.

Suppose that
\begin{align*}
g(a)&=1\pm y,& g(b)&=1\pm y,& g(c)&=1\pm y
\end{align*}
is another extramal function.
Then $|f-g|\z=|x-y|$ if $g$ has ``$-$'' at the same place as $f$ and $|f-g|=|x+y|$ otherwise.

\begin{wrapfigure}{o}{30 mm}
\vskip-0mm
\centering
\includegraphics{mppics/pic-3}
\bigskip
\includegraphics{mppics/pic-4}
\end{wrapfigure}

It follows that $\Inj\spc{X}$ is isometric to a tripod --- that is, $\Inj\spc{X}$ can be made from three segments of length $\tfrac12$ and by gluing then at one end.

\parit{\ref{SHORT.ex:tripod+square:square}.}
Assume $f$ is an extramal function.
Observe that 
$f(x)+f(y)=f(p)+f(q)=2$;
in particular, two values $a=f(x)-1$ and $b=f(p)-1$ completely describe the function $f$.
Since $f$ is extremal, we also have that 
\[(1\pm a)+(1\pm b)\ge 1\]
for all 4 choices of signs;
that is, $|a|+|b|\le 1$.

It follows that $\Inj\spc{X}$ is isometric to the rhombus $|a|+|b|\le 1$ in the $(a,b)$-plane with the metric induced by the $\ell^\infty$-norm.





\parbf{Exercise~\ref{ex:4-on-a-line}.}
Recall that 
\[\dist{f}{g}{\Inj\spc{X}}=\sup\set{|f(x)-g(x)|}{x\in\spc{X}}\]
and 
\[\dist{f}{p}{\Inj\spc{X}}=f(p)\]
for any $f,g\in \Inj\spc{X}$ and $p\in \spc{X}$.

Since $\spc{X}$ is compact we can find a point $p\in\spc{X}$ such that 
\[\dist{f}{g}{\Inj\spc{X}}=|f(p)-g(p)|=\left|\dist{f}{p}{\Inj\spc{X}}-\dist{g}{p}{\Inj\spc{X}}\right|.\]
Without loss of generality we may assume that 
\[\dist{f}{p}{\Inj\spc{X}}
=
\dist{g}{p}{\Inj\spc{X}}
+
\dist{f}{g}{\Inj\spc{X}}.\]
Applying \ref{lem:opposite}, we can find a point $q\in\spc{X}$ such that 
\[\dist{q}{p}{\Inj\spc{X}}
=
\dist{f}{p}{\Inj\spc{X}}
+
\dist{f}{q}{\Inj\spc{X}},\]
whence the result.

\parbf{Exercise~\ref{ex:tringle-inq-angles}.}
Let us show that $\gamma\le\alpha+\beta$; the rest of inequalities can be done the same way.
Since $\gamma\le\pi$, we may assume that $\alpha+\beta< \pi$.

Denote by $\gamma_x$, $\gamma_y$, and $\gamma_z$ the geodesics $[px]$, $[py]$, and $[pz]$ parameterized from $p$ by arc-length.
By triangle inequality,
for any $\eps>0$ and all sufficiently small $t,\tau,s\in\RR_+$ we have
\begin{align*}
\dist{\gamma_x(t)}{\gamma_z(\tau)}{}
\le 
\ &\dist{\gamma_x(t)}{\gamma_y(s)}{}+\dist{\gamma_y(s)}{\gamma_z(\tau)}{}<\\
<
\ &\sqrt{t^2+s^2-2\cdot t\cdot  s\cdot \cos(\alpha+\eps)}\ +
\\
&+\sqrt{s^2+\tau^2-2\cdot s\cdot \tau\cdot \cos(\beta+\eps)}\le
\end{align*}

Below we define 
$s(t,\tau)$ so that for 
$s=s(t,\tau)$, this chain of inequalities can be continued as follows:
\[\le
\ \sqrt{t^2+\tau^2-2\cdot t\cdot \tau\cdot \cos(\alpha+\beta+2\cdot \eps)}.
\]
Thus for any $\eps>0$, 
\[\gamma\le \alpha+\beta+2\cdot \eps.\]
Hence the result.

\begin{wrapfigure}{o}{30 mm}
\vskip-8mm
\centering
\includegraphics{mppics/pic-7}
\end{wrapfigure}

To define $s(t,\tau)$, consider three rays $\tilde \gamma_x$, $\tilde \gamma_y$, $\tilde \gamma_z$ on a Euclidean plane starting at one point, such that $\mangle(\tilde \gamma_x,\tilde \gamma_y)=\alpha+\eps$,
$\mangle(\tilde \gamma_y,\tilde \gamma_z)=\beta+\eps$ and $\mangle(\tilde \gamma_x,\tilde \gamma_z)=\alpha+\beta+2\cdot \eps$.
We parametrize each ray by the distance from the starting point.
Given two positive numbers $t,\tau\in\RR_+$, let $s=s(t,\tau)$ be 
the number such that 
$\tilde \gamma_y(s)\in[\tilde \gamma_x(t)\ \tilde \gamma_z(\tau)]$. 
Clearly $s\le\max\{t,\tau\}$, so $t,\tau,s$ may be taken sufficiently small.

\parit{Remark.}
Note that for the Euclidean space the statement implies that central angle defines a metric on unit sphere.
This statement is not quite trivial; moreover, it is straightforward to modify Euclidean proof so it will work in Alexandrov settings. 

\parbf{Exercise~\ref{ex:sba-2+2-short};} \textit{``only if'' part.}
Let us start with two model triangles $[\tilde x\tilde y\tilde p]=\modtrig(xyp)$ and $[\tilde x\tilde y\tilde q]=\modtrig(xyq)$ such that $\tilde p$ and $\tilde q$ lie on the opposite sides of the line $\tilde x\tilde y$.

Suppose $[\tilde x \tilde y]$ intersects $[\tilde p\tilde q]$ at a point $\tilde z$.
In this case by $\CAT(0)$ comparison we have that
\[\dist{\tilde p}{\tilde q}{\EE^2}=\dist{\tilde p}{\tilde z}{\EE^2}-\dist{\tilde z}{\tilde q}{\EE^2}\le \dist{p}{q}{\spc{X}}.\]

\begin{wrapfigure}[8]{o}{30 mm}
\vskip-2mm
\centering
\includegraphics{mppics/pic-5}
\end{wrapfigure}

Let us fix points $\tilde x$ and $\tilde y$, and the distances from $\tilde x$ to the remaining three points and reduce the angles $\alpha=\mangle\hinge{\tilde x}{\tilde p}{\tilde y}$ and $\beta=\mangle\hinge{\tilde x}{\tilde q}{\tilde y}$.
It results in decreasing distances $\dist{\tilde p}{\tilde q}{}$, $\dist{\tilde p}{\tilde y}{}$, and $\dist{\tilde q}{\tilde y}{}$.
If $\alpha=\beta=0$, then 
\begin{align*}
\dist{\tilde p}{\tilde q}{\EE^2}&=
\biggl|\dist{\tilde x}{\tilde p}{\EE^2}-\dist{\tilde x}{\tilde q}{\EE^2}\biggr|=
\\
&=\biggl|\dist{ x}{ p}{\spc{X}}-\dist{ x}{ q}{\spc{X}}\biggr|\ge
\\
&\ge\dist{p}{q}{\spc{X}}.
\end{align*}
By the intermediate value theorem, there are intermediate values of $\alpha$ and $\beta$ so that $\dist{\tilde p}{\tilde q}{\EE^2}\z=\dist{p}{q}{\spc{X}}$.
By construction, $\dist{\tilde x}{\tilde p}{\EE^2}=\dist{x}{p}{\spc{X}}$, $\dist{\tilde x}{\tilde q}{\EE^2}=\dist{x}{q}{\spc{X}}$, $\dist{\tilde y}{\tilde p}{\EE^2}\le\dist{y}{p}{\spc{X}}$, $\dist{\tilde y}{\tilde q}{\EE^2}\le\dist{y}{q}{\spc{X}}$.

\begin{wrapfigure}{o}{30 mm}
\vskip-0mm
\centering
\includegraphics{mppics/pic-6}
\end{wrapfigure}

Now suppose $[\tilde p \tilde q]$ does not intersect $[\tilde x\tilde y]$.
Without loss of generality, we may assume that $[\tilde p \tilde q]$ crosses the line $\tilde x\tilde y$ behind $\tilde x$.

Let us rotate $\tilde p$ around $\tilde x$ so that $\tilde x$ will lie between $\tilde p$ and $\tilde q$.
It will result in decreasing the distance $\dist{\tilde p}{\tilde y}{}$,
by triangle inequality we have that 
\begin{align*}
\dist{\tilde p}{\tilde q}{\EE^2}&=\dist{\tilde p}{\tilde x}{\EE^2}+\dist{\tilde x}{\tilde q}{\EE^2}=
\\
&=\dist{p}{x}{\spc{X}}+\dist{x}{q}{\spc{X}}\ge
\\
&\ge \dist{p}{q}{\spc{X}}.
\end{align*}
Repeating the argument above produces the needed configuration.

\parit{``If'' part.}
Suppose $\tilde p,\tilde q,\tilde x,\tilde y\in\EE^2$ satisfies the conditions 
\begin{align*}
\dist{\tilde p}{\tilde q}{}&=\dist{p}{q}{},
&
\dist{\tilde x}{\tilde y}{}&=\dist{x}{y}{},
\\
\dist{\tilde p}{\tilde x}{}&\le \dist{p}{x}{},
&
\dist{\tilde p}{\tilde y}{}&\le \dist{p}{y}{},
\\
\dist{\tilde q}{\tilde x}{}&\le \dist{q}{x}{},
&
\dist{\tilde q}{\tilde y}{}&\le \dist{q}{y}{}.
\end{align*}

Fix $\tilde z\in [\tilde x\tilde y]$.
By triangle inequality 
\[\dist{\tilde p}{\tilde z}{}+\dist{\tilde z}{\tilde q}{}\ge \dist{\tilde p}{\tilde q}{}=\dist{p}{q}{}.\]

Note that if 
$\dist{\tilde p'}{\tilde x}{}\ge \dist{\tilde p}{\tilde x}{}$
and
$\dist{\tilde p'}{\tilde y}{}\ge \dist{\tilde p}{\tilde y}{}$,
then $\dist{\tilde p'}{\tilde z}{}\ge \dist{\tilde p}{\tilde z}{}$.
In particular if $[\tilde x\tilde y\tilde p']=\modtrig(xyp)$ and $[\tilde x\tilde y\tilde q']=\modtrig(xyq)$, then
\begin{align*}
 \dist{\tilde p'}{\tilde z}{}+\dist{\tilde q'}{\tilde z}{}\ge \dist{\tilde p}{\tilde z}{}+\dist{\tilde z}{\tilde q}{}.
\end{align*}
Whence the ``if'' part follows.

\parbf{Exercise~\ref{ex:(3+1)-expanding}.}
Set $\tilde\alpha=\angk pxy$, $\tilde\beta=\angk pyz$ and $\tilde\gamma=\angk pzx$.

If $\spc{X}$ is $\Alex0$, then
\[\tilde\alpha+\tilde\beta+\tilde\gamma\le 2\cdot \pi.\]
Note that we can find $\alpha,\beta,\gamma$ such that 
\[
\tilde\alpha\le\alpha\le\pi,
\quad \tilde\beta\le\beta\le\pi,
\quad\tilde\gamma\le\gamma\le\pi,\]
and
\[\alpha+\beta+\gamma=2\cdot \pi.\]
Consider a model configuration $\tilde p$, $\tilde x$, $\tilde y$, $\tilde z\in\EE^2$ such that 
\begin{align*}
\dist{\tilde p}{\tilde x}{\EE^2}&=\dist{p}{x}{\spc{X}},
&
\dist{\tilde p}{\tilde y}{\EE^2}&=\dist{p}{y}{\spc{X}},
&
\dist{\tilde p}{\tilde z}{\EE^2}&=\dist{p}{z}{\spc{X}},
\\
\mangle\hinge {\tilde p}{\tilde x}{\tilde y}&=\alpha,
&
\mangle\hinge {\tilde p}{\tilde y}{\tilde z}&=\beta,
&
\mangle\hinge {\tilde p}{\tilde z}{\tilde x}&=\gamma.
\end{align*}

Since increasing angle in a triangle increase the opposite side, we have 
\begin{align*}
\dist{x}{y}{\spc{X}}&\le\dist{\tilde x}{\tilde y}{\EE^2},
&
\dist{y}{z}{\spc{X}}&\le\dist{\tilde y}{\tilde z}{\EE^2},
&
\dist{z}{x}{\spc{X}}&\le\dist{\tilde z}{\tilde x}{\EE^2}.
\end{align*}
Whence the ``only-if'' part follows.

Now suppse that we have a model configuration $\tilde p,\tilde x,\tilde y,\tilde z\in\EE^2$
such that 
\begin{align*}
\dist{p}{x}{\spc{X}}&=\dist{\tilde p}{\tilde x}{\EE^2},
&
\dist{p}{y}{\spc{X}}&=\dist{\tilde p}{\tilde y}{\EE^2},
&
\dist{p}{z}{\spc{X}}&=\dist{\tilde p}{\tilde z}{\EE^2},
\\
\dist{x}{y}{\spc{X}}&\le\dist{\tilde x}{\tilde y}{\EE^2},
&
\dist{y}{z}{\spc{X}}&\le\dist{\tilde y}{\tilde z}{\EE^2},
&
\dist{z}{x}{\spc{X}}&\le\dist{\tilde z}{\tilde x}{\EE^2}.
\end{align*}

Set
\begin{align*} 
\alpha&=\mangle\hinge {\tilde p}{\tilde x}{\tilde y},
&
\beta&=\mangle\hinge {\tilde p}{\tilde y}{\tilde z},
&
\gamma&=\mangle\hinge {\tilde p}{\tilde z}{\tilde x}.
\end{align*}
Observe that 
\[\alpha+\beta+\gamma\le 2\cdot \pi.\]
Since increasing a side in a triangle increase the opposite angle, we have that
\[
\tilde\alpha\le\alpha,
\quad \tilde\beta\le\beta,
\quad\tilde\gamma\le\gamma.\]
Whence the ``if'' part follows.

\parbf{Exercise~\ref{ex:CAT+CBB}.}
Set $\tilde \alpha=\angk pxq$, $\tilde\beta=\angk pyq$ and $\tilde\gamma=\angk pxy$.

Note that the quadruple $p,x,y,z$ is euclidean if 
\[\tilde\alpha+\tilde\beta+\tilde\gamma\le 2\cdot\pi
\eqlbl{eq:a+b+c=<2pi}\]
and the triple of numbers $\tilde\alpha,\tilde\beta,\tilde\gamma$ satisfies all triangle inequalities.
Without loss of generality we may assume that
$\tilde\alpha\le\tilde\beta\le\tilde\gamma$;
in this case the triangle inequities hold if 
\[\tilde\gamma\le \tilde\alpha+\tilde\beta.\eqlbl{eq:a+b>=c}\]

Note that the inequality \ref{eq:a+b+c=<2pi} follow from $\CBB(0)$ comparison.

Consider two model triangles $[\tilde x\tilde y\tilde p]=\modtrig(xyp)$ and $[\tilde x\tilde y\tilde q]=\modtrig(xyq)$ such that $\tilde p$ and $\tilde q$ lie on the opposite sides of the line $\tilde x\tilde y$.

Suppose $[\tilde x \tilde y]$ intersects $[\tilde p\tilde q]$ at a point $\tilde z$.
In this case by $\CAT(0)$ comparison we have that
\[\dist{\tilde x}{\tilde y}{\EE^2}=\dist{\tilde x}{\tilde z}{\EE^2}-\dist{\tilde z}{\tilde y}{\EE^2}\le \dist{x}{y}{\spc{X}}.\]
Which is equivalent to \ref{eq:a+b>=c}.

If $[\tilde x \tilde y]$ crosses the line $[\tilde p\tilde q]$ behind $\tilde p$,
then $\tilde\alpha+\tilde\beta>\pi$ and therefore \ref{eq:a+b>=c} follows from \ref{eq:a+b+c=<2pi}.

Finally if $[\tilde x \tilde y]$ crosses the line $[\tilde p\tilde q]$ behind $\tilde q$,
then by $\CBB(0)$ comparison with center at $q$, we have that 
\[\angk qxp+\angk qyp+\angk qxy\le 2\cdot\pi\]
It follows that 
\[\dist{\tilde x}{\tilde y}{\EE^2}\ge\dist{ x}{ y}{\spc{X}}\]
and therefore 
\[\tilde \gamma\le \mangle\hinge{\tilde p}{\tilde x}{\tilde y}.\]
Since $\mangle\hinge{\tilde p}{\tilde x}{\tilde y}=\tilde\alpha+\tilde\beta$ we get \ref{eq:a+b>=c}.

\parbf{Exercise~\ref{ex:product-CBB}.}
We will use the charcterization of $\CBB(0)$ space provided by \ref{ex:(3+1)-expanding}; the rest is nearly identical to the proof of \ref{ex:product-CAT}.

Fix a quadruple in $\spc{U}\times \spc{V}$:
\begin{align*}
p&=(p_1,p_2),
&
x&=(x_1,x_2),
&
y&=(y_1,y_2),
&
z&=(z_1,z_2).
\end{align*}
For the quadruple $p_1,x_1,y_1,z_1$ in $\spc{U}$,
construct model configurations  $\tilde p_1,\tilde x_1,\tilde y_1,\tilde z_1$ in $\EE^2$ provided by \ref{ex:(3+1)-expanding}.  
Similarly, for the quadruple $p_2,q_2,x_2,y_2$ in $\spc{V}$
construct model configurations  $\tilde p_2,\tilde x_2,\tilde y_2,\tilde z_2$ in $\EE^2$

Consider four points in $\EE^4=\EE^2\times\EE^2$ 
\begin{align*}
\tilde p&=(\tilde p_1,\tilde p_2),
&
\tilde x&=(\tilde x_1,\tilde x_2),
&
\tilde y&=(\tilde y_1,\tilde y_2),
&
\tilde z&=(\tilde z_1,\tilde z_2).
\end{align*}
The inequalities in  \ref{ex:(3+1)-expanding} imply that
\begin{align*}
\dist{p}{x}{\spc{X}}&=\dist{\tilde p}{\tilde x}{\EE^4},
&
\dist{p}{y}{\spc{X}}&=\dist{\tilde p}{\tilde y}{\EE^4},
&
\dist{p}{z}{\spc{X}}&=\dist{\tilde p}{\tilde z}{\EE^4},
\\
\dist{x}{y}{\spc{X}}&\le\dist{\tilde x}{\tilde y}{\EE^4},
&
\dist{y}{z}{\spc{X}}&\le\dist{\tilde y}{\tilde z}{\EE^4},
&
\dist{z}{x}{\spc{X}}&\le\dist{\tilde z}{\tilde x}{\EE^4}
\end{align*}
It remains to observe that one can move $\tilde z$ into the plane of $\tilde p$, $\tilde x$, and $\tilde y$ keeping the distance $\dist{\tilde p}{\tilde z}{\EE^4}$ and nondecreasing the rest of distances. 

\parbf{Exercise~\ref{ex:CBB-geodesic}.}
Suppose that there are distinct geodesics.
Then there are two points $p$ and $q$ on different geodesics such that $\dist{p}{x}{}=\dist{q}{x}{}$.
Without loss of generality we may assume that $\dist{z}{x}{}<\dist{p}{x}{}$;
in other words $z$ lies between $p$ and $x$ on the first geodesic and 
$z$ lies between $q$ and $x$ on the second geodesic.
Observe that 
\[\angk zxp=\angk zxq=\pi.\]

By comparison, we have
\[\angk zxp+\angk zxq+\angk zpq\le2\cdot\pi.\]
It follows that $\angk zpq=0$.
Since $\dist{z}{p}{}=\dist{z}{q}{}$, it implies that $p=q$ --- a contradiction.

\parbf{Exercise~\ref{ex:contractible}.}
Use \ref{ex:noncreasing-CAT}, to show that the map $(t,x)\mapsto \gamma_x(t)$ is continuous; that is $h_t(x)=\gamma_x(t)$ defines a homotopy.

It remains to observe that $h_1(x)=x$ and $h_0(x)=p$ for any $x$.

\parbf{Exercise~\ref{ex:CAT-mnfld=>ext.geod}.}
Suppose that a geodesic $[pq]$ is not expendable behind~$q$.
Denote by $h_t$ the geodesic homotopy with the center at $p$; see \ref{ex:contractible}.

Since $[pq]$ is not extendable, $q\notin \Im h_t$ for any $t<1$.
In particular the local homology groups vanish at $p$;
the latter does not hold for a manifold --- a contradiction.

\parbf{Exercise~\ref{ex:fat-triangle}.}
Apply \ref{ex:noncreasing-CBB} twice.

More precisely, consider a triangle $[xyz]$ in the space; let $[\tilde x\tilde y\tilde z]\z=\modtrig(xyz)$.
Choose points $p\in[xy]$ and $q\in[xz]$;
consider the corresponding points $\tilde p\in[\tilde x\tilde y]$ and $\tilde q\in[\tilde x\tilde z]$.
We need to show that 
\[\dist{\tilde p}{\tilde q}{\EE^2}\le \dist{ p}{q}{\spc{X}}.
\eqlbl{eq:pq=<pq}\]

By \ref{ex:noncreasing-CBB}, we have
\[\angk{x}{p}{q}\ge\angk{x}{y}{z}.\]
Whence \ref{eq:pq=<pq} follows.


\parbf{Exercise~\ref{ex:convex-dist}.}
It is sufficient to prove the Jensen inequality;
that is, 
\[
\dist{\gamma_1(t)}{\gamma_2(t)}{}
\le
(1-t)\cdot\dist{\gamma_1(0)}{\gamma_2(0)}{}
+
t\cdot \dist{\gamma_1(1)}{\gamma_2(1)}{}.
\]

{

\begin{wrapfigure}{o}{45 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-8}
\end{wrapfigure}

Let $\delta$ be the geodesic path from $\gamma_2(0)$ to $\gamma_1(1)$.
From \ref{ex:noncreasing-CAT}, we have
\begin{align*}
\dist{\gamma_1(t)}{\delta(t)}{}
&\le
(1-t)\cdot\dist{\gamma_1(0)}{\delta(0)}{}
\\
\dist{\delta(t)}{\gamma_2(t)}{}
&\le
t\cdot\dist{\delta(1)}{\gamma_2(1)}{}
\end{align*}
It remains to sum it up and apply the triangle inequality.

}

\parit{Remark.} Note that in the Euclidean space the proof is just as hard.

\parbf{Exercise~\ref{ex:convex-nbhd}.}
Let $p,q\in A_r$;
that is, there are points $p^*,q^*\in A$ such that $\dist{p}{p^*}{},\dist{q}{q^*}{}\le r$.
Consider a geodesic path $\gamma$ from $p$ to $q$ and a geodesic path $\gamma^*$ from $p^*$ to $q^*$.
Set $f(t)=\dist{\gamma(t)}{\gamma^*(t)}{}$.

Observe that $f(0),f(t)\le r$.
By \ref{ex:convex-dist}, $f$ is convex.
Therefore $f(t)\le r$ for any $t\in[0,1]$.

Since $A$ is convex $\gamma^*$ runs in $A$.
Therefore $f(t)\ge \distfun_A\circ\gamma(t)$;
that is, $\gamma$  runs in $A_r$.

\parbf{Exercise~\ref{ex:closest-point}}; \ref{SHORT.ex:closest-point:a}.
Assume there are two point $x,y\in K$ that minimize the distance to $p$;
suppose $\ell=\dist{p}{x}{}=\dist{p}{y}{}$.
Since $K$ is convex, the geodesic $[xy]$ lies in $K$.
Let $m$ be a midpoint of $[xy]$.

Use thinness of $[pxy]$ to show that $\dist{p}{m}{}<\ell$.
It follows that $x$ does not minimize the distance to $p$ --- a contradiction.

\parit{\ref{SHORT.ex:closest-point:b}.}
Let $p^*$ and $q^*$ be the closest point projections of $p$ and $q$ to $K$.
Assume all four points $p,q,p^*,q^*$ are distinct.
Consider two model triangles $[\tilde p\tilde p^*\tilde q^*]=\modtrig(pp^*q^*)$ and $[\tilde p\tilde q\tilde q^*]=\modtrig(pqq^*)$ 
such that the points $\tilde p^*$ and $\tilde q$ lie on the opposite sides from the line $\tilde p\tilde q^*$.

Use thinness of $[pp^*q^*]$ and $[pqq^*]$ to show that $\mangle\hinge{\tilde p*}{\tilde p}{\tilde q^*}\ge \tfrac\pi2$ and $\mangle\hinge{\tilde q*}{\tilde p^*}{\tilde q}\ge \tfrac\pi2$.
Finally observe that 
\[\dist{p}{q}{\spc{U}}=\dist{\tilde p}{\tilde q}{\EE^2}\ge \dist{\tilde p^*}{\tilde q^*}{\EE^2}=\dist{p^*}{q^*}{\spc{U}}.\]

If some of the points $p$, $q$, $p^*$, $q^*$ coincide, then the proof is easier.

\parbf{Exercise~\ref{ex:locally-convex}.} Fix a closed, connected, locally convex set~$K$.

Let us show that $f=\distfun_K$ is convex in a neighborhood $\Omega\supset K$; that is, $\distfun_K$ is convex along any geodesic completely contained in~$\Omega$.
It is sufficient to show that for any a point $p\in K$ the function $f$ is convex in a ball $B_p= \oBall(p, r_p)$ if $K\cap \cBall[p,2\cdot r_p]$ is convex.

By \ref{ex:convex-dist} for any geodesic path $\gamma_0$ in $B$ and any geodesic path $\gamma_1$ in $K$ we have that the function 
$t\mapsto\dist{\gamma_0(t)}{\gamma_1(t)}{}$ is convex.
We may choose $\gamma_1$ in such a way that its ends realize the distances from the ends of $\gamma_0$ to $K$;
that is,
\begin{align*}
\dist{\gamma_0(0)}{\gamma_1(0)}{}&=f\circ\gamma_0(0),
\\
\dist{\gamma_0(1)}{\gamma_1(1)}{}&=f\circ\gamma_0(1).
\end{align*}
Observe that 
\[\dist{\gamma_0(t)}{\gamma_1(t)}{}\ge f\circ\gamma_0(t)\]
for any $t$.
Whence Jensen's inequality holds for $f\circ\gamma$ if $\gamma$ is any geodesic in $B_p$.

\begin{wrapfigure}{o}{45 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-9}
\end{wrapfigure}

Since $K$ is locally convex,
it is locally path connected.
Since $K$ is connected, the latter implies that $K$ is path connected.

Fix two points $x,y\in K$. 
Let us connect $x$ to $y$ by a path $\alpha\:[0,1]\z\to K$.
By \ref{ex:CAT-geodesic} and \ref{ex:convex-dist}, the geodesic $[x\,\alpha(s)]$ 
is uniquely defined and depends continuously on~$s$.

If $[xy]=[x\,\alpha(1)]$ does not completely lie in $K$, then 
there is a value $s\in [0,1]$ such that $[x\,\alpha(s)]$ 
lies in $\Omega$,
but does not completely lie in~$K$.
Therefore $f$ is convex 
along $[x\alpha(s)]$.
Note that $f(x)\z=f(\alpha(s))=0$ and $f\ge 0$, 
therefore $f(z)= 0$ for any $z\in [x\,\alpha(s)]$.
In other words, $[x\,\alpha(s)]\subset K$ --- a contradiction.

\parit{Comment.}
The statement generalizes a theorem of Heinrich Tietze \cite{tietze}; our proof is nearly identical to the original.

\parbf{Exercise~\ref{ex:reshetnyak-doubling}.}
If $A$ is not convex, then there is a geodesic $[xy]$ with the ends in $A$ and the remaining points outside of $A$.
Observe that in the doubling, say $\spc{W}$, two copies of this geodesics connect the same pair of points $x$ and $y$.
By \ref{ex:CAT-geodesic}, $\spc{W}$ is not $\CAT(0)$.

\parbf{Exercise~\ref{ex:supporting-planes}.}
By approximation, it is sufficient to consider the case when 
$A$ and $B$ have smooth boundary. 

If $[xy]\cap A\cap B\ne \emptyset$, then $z_0\in [xy]$ and $\dot A, \dot B$ can be chosen to be arbitrary half-spaces containing $A$ and $B$ respectively.  

In the remaining case $[xy]\cap A\cap B=\emptyset$, 
we have $z_0\in\partial (A\cap B)$.  
Consider the solid ellipsoid
\[C=\set{z\in\EE^m}{f(z)\le f(z_0)}.\] 
Note that $C$ is compact, convex and has  smooth boundary. 

Suppose $z_0\in\partial  A \cap \Int B$. 
Then $A$ and $C$ touch at $z_0$ and we can set $\dot A$ to be the uniquely defined supporting half-space to $A$  at $z_0$ and $\dot B$ to be any half-space containing~$B$. 
The case $z_0\in\partial B \cap \Int A$ is treated similarly.


Finally, suppose $z_0\in\partial A\cap\partial B$. 
Then the set  $\dot A$ (respectively, $\dot B$) is defined as the unique supporting half-space to $A$ (respectively, $B$) at $z_0$ containing $A$ (respectively, $B$).

Suppose $f(z)<f(z_0)$ for some $z\in \dot A\cap\dot B$.
Since $f$ is concave,
$f(\bar z)<f(z_0)$ for any $\bar z \in \left[zz_0\right[$.
Since $\left[zz_0\right[\cap A\cap B\ne\emptyset$,
the latter contradicts the fact that $z_0$ is minimum point of $f$ on $A\cap B$.


\parbf{Exercise~\ref{ex:compact-walls}.}
Fix two open balls $B_1\z=\oBall(0,r_1)$ and $B_2=\oBall(0,r_2)$
such that 
\[B_1\subset A^i\subset B_2\]
for each wall~$A^i$.

Suppose $X$ is an intersections of  the walls.
Observe that 
\[B_1\subset X\subset B_2.\]
Therefore if $x\in X$, then $X$ contains the convex hull $\Conv(B_1\cup\{x\}$;
therefore all intersections of the walls have $\eps$-wide corners for $\eps\z=2\cdot \arcsin\tfrac{r_1}{r_2}$.

\parbf{Exercise~\ref{ex:centrally-simmetric-walls}.}
Note that any centrally symmetric convex closed set in Euclidean space is a product of a compact centrally symmetric convex set and a subspace.

It follows that there is $R<\infty$
such that if $X$ is an intersection of an arbitrary number of walls, then for any point $p\in X$ there is an isometry of $X$ 
that moves  $p$ to a point in the ball $\oBall(0,R)$.

It remains to apply the argument in Exercise~\ref{ex:compact-walls}.

\parbf{Exercise~\ref{cor:balls:dim=1}.} 
Note that we can assume that the balls have zero radiuses.

Observe that at each collision the balls exchange their velocities.
Let us also change their labels at each collision.
Note that after the relabeling,  the coordinates functions $t\mapsto x_{i}(t)$ of the balls are linear functions in time.%
\footnote{We use here that radiuses vanish, otherwise $\tilde x_i=x_i-2\cdot k_i\cdot r$ are linear, where $k_i$ is the number of $i$-th ball counted from left.} 

It remains to show $n$ lines on the plane have at most $\tfrac{n\cdot(n-1)}2$ intersections.
It follows since any pair of lines have at most one intersection.

\parit{Remarks.}
For nonidentical balls, the problem is a bit more interesting;
Grant Sanderson has couple of funny movies on a partial case of this problem \cite{sanderson}.

Recall that in the 3-dimensional case the number of collisions grows exponentially in $n$; the two-dimensional case is open \cite{burago-ivanov}.

\parbf{Exercise~\ref{ex:null-homotopic}.}
Note that the existence of a null-homotopy is equivalent to the following.
There are two one-parameter families of paths $\alpha_\tau$ and $\beta_\tau$, $\tau\in[0,1]$ 
such that: 
\begin{itemize}
\item $\length\alpha_\tau$, $\length\beta_\tau<\pi$ for any~$\tau$.
\item $\alpha_\tau(0)=\beta_\tau(0)$ and $\alpha_\tau(1)=\beta_\tau(1)$ for any~$\tau$.
\item $\alpha_0(t)=\beta_0(t)$ for any~$t$.
\item $\alpha_1(t)=\alpha(t)$ and $\beta_1(t)=\beta(t)$ for any~$t$.
\end{itemize}

By Corollary~\ref{cor:discrete-paths},
the construction in Corollary~\ref{cor:path-geod} produces the same result for $\alpha_\tau$ and $\beta_\tau$.
Hence the result.


\begin{wrapfigure}{r}{25 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-11}
\end{wrapfigure}

\parbf{Exercise~\ref{ex:geod-circle}.}
The following proof works for compact locally simply connected metric spaces;
it includes compact length, locally $\CAT(0)$ spaces. 

\medskip


By the globalization theorem there is  a nontrivial homotopy class of closed curves.

Consider a shortest noncontractible closed curve $\gamma$ in  $\spc{X}$;
note that such a curve exists.

Indeed, let $L$ be the infimum of lengths of all noncontractible closed curves in $\spc{X}$.
Compactness and local contractibility of $\spc{X}$ imply that any two sufficiently close closed curves in $\spc{X}$ are homotopic.
Then choosing a sequence of unit speed noncontractible curves whose lengths converge to $L$, an Arzel\'{a}--Ascoli type of argument shows that these curves subconverge to a noncontractible curve of length $L$.


Assume that $\gamma$ is not a geodesic circle,
that is,  there are two points $p$ and $q$ on $\gamma$ such that the distance $\dist{p}{q}{}$ 
is shorter then the lengths of the arcs, say $\alpha_1$ and $\alpha_2$, of $\gamma$ from $p$ to~$q$.
Consider the products, say $\gamma_1$ and $\gamma_2$,
of $[qp]$ with $\alpha_1$ and~$\alpha_2$.
Then
\begin{itemize}
 \item  $\gamma_1$ or $\gamma_2$ is noncontractible,
 \item $\length\gamma_1, \length\gamma_2<\length \gamma$,
\end{itemize}
a contradiction.

In the $\CAT(1)$ case we also have a geodesic circle.
The proof is done nearly the same way, but we need to consider the homotopy classes of closed curves shorter than $2\cdot \pi$.
One also need to apply \ref{ex:null-homotopic}, to show that curves $\gamma_1$ and $\gamma_2$ are not contractible in the class of curves shorter than $2\cdot \pi$.

\parit{Remarks.}
The statement of the exercise fails if the requirement that $\spc{X}$ be compact is replaced by the assumption that it is proper. For example, the surface of revolution of the graph of $y=e^x$ around the $x$-axis is locally $\CAT(0)$ but has no closed geodesics.


\parbf{Exercise~\ref{ex:branching-cover}.}
Consider a closed $\eps$-neighborhood $A$ of the geodesic.
Note that $A_\eps$ is convex.
By the Reshetnyak gluing theorem, the double $\spc{W}_\eps$ of $\spc{U}$ along $A_\eps$ is $\CAT(0)$.

Consider the space $\spc{W}'_\eps$ obtained by doubly covering $\spc{U}\backslash A_\eps$ and gluing back~$A_\eps$.

Observe that $\spc{W}'_\eps$ is locally isometric to $\spc{W}_\eps$. 
That is, for any point $p'\in\spc{W}'_\eps$ there is a point $p\in\spc{W}_\eps$ such that the $\delta$-neighborhood of $p'$ is isometric to the $\delta$-neighborhood of $p$ for all small $\delta>0$.

Further observe that $\spc{W}'_\eps$ is simply connected since it admits a deformation retraction onto $A_\eps$, which is contractible.
By the globalization theorem, $\spc{W}'_\eps$ is $\CAT(0)$.

It remains to note that $\tilde {\spc{U}}$ can be obtained as a limit of $\spc{W}'_\eps$ as $\eps\to 0$, and apply Proposition~\ref{prop:cat-limit}.

\parbf{Exercise~\ref{ex:geod-CBA}.}
Recall that by Proposition~\ref{cor:loc-geod-are-min}, any local geodesic shorter in $\spc{U}$ is a geodesic.

Consider a sequence of directions $\xi_n$ 
at $p$
of geodesics $[pq_n]$.
Since the geodesics are extendable, we can assume that the distances $\dist{p}{q_n}{\spc{U}}=1$ for any $n$.

Since $\spc{U}$ is proper,
we can pass to a converging subsequence of $(q_n)$;
denote its limit by~$q$.
Since $q_n\to q$, the comparison implies that $\mangle\hinge p{q_n}q\to 0$ as $n\to \infty$.
Therefore the direction $\xi$ of $[pq]$ is the limit of directions $\xi_n$.

\begin{wrapfigure}{r}{45 mm}
\vskip-0mm
\centering
\includegraphics{mppics/pic-12}
\end{wrapfigure}

Note that the unit disc in the plane with attached half-line to each point is a complete $\CAT(0)$ length space with extendable geodesics. 
However, the space of geodesic directions on the boundary of the disc is not complete --- there is no geodesic tangent to the boundary of the disc.
This provides a counterexample to the statement of the exercise if  $\spc{U}$ is not assumed to be proper.

\parbf{Exercise~\ref{ex:tan(CAT)isCAT}.} Given a constant speed geodesic $\alpha$ starting at $p$, consider sequence of points $x_n=\alpha(\tfrac1n)$.
Note that $n\cdot\dist{p}{x_n}{}$ is constant.
Therefore if we consider $x_n$ as a point in $n\cdot \spc{X}$, then this sequence has an $\omega$-limit $\iota(\alpha)$ in $\T_p^\omega$.

Observe that $\iota$ defines a distance preserving map $\T_p'\to \T_p^\omega$.
Since $\T_p^\omega$ is complete, this map can be extended to $\T_p$.
Whence the statement follows.

Since $\spc{X}$ is $\CAT(0)$, so is $n\cdot \spc{X}$, and by \ref{prop:cat-limit} so is $\T_p^\omega\spc{X}$.
Since $\T_p\spc{X}$ is naturally isometric to a subspace of $\T_p^\omega$, we get that $\T_p\spc{X}$ is $\CAT(0)$ as well.

\parit{Remark.}
The ultratangent space might be larger than tangent space.
For example, let $\text{Ш}$ be a \emph{comb} with a spine formed by a real line and a half-line (a tooth) attached to each point of the spine.
Then for $p=0$ on the spine, $\T_p\text{Ш}$ is formed by three half-lines meeting at one point, while $\T_p^\omega\text{Ш}$ is isometric to $\text{Ш}$.


\parbf{Exercise~\ref{ex:tan(CAT)is-length}.}
Observe that it is sufficient to show that the space of directions $\Sigma_p$ is a \emph{$\pi$-length space}; the latter means that the defining condition of length space holds for pairs of points on distance less than~$\pi$.

Since $\Sigma_p$ is complete,
the same argument as in \ref{lem:mid>length}, shows that it sufficient to prove existence of almost midpoints for pairs of point on distance less than $\pi$;
that is, if $\mangle(\xi,\zeta)<\pi$, then, given $\eps>0$, there is $\mu\in \Sigma_p$ such that 
\[\mangle(\xi,\mu),\quad \mangle(\mu,\zeta) \le \tfrac12\cdot \mangle(\xi,\zeta)+\eps.\eqlbl{eq:dir-mid}\]

Without loss of generality we may assume that $\zeta$ and $\xi$ are geodesic directions;
so there are geodesics $[px]$ and $[pz]$ that start from $p$ in these directions; in particular, $\mangle\hinge pxz=\mangle(\xi,\zeta)$.
Fix small $r>0$ and choose points $\bar x=[px]$ and $\bar z=[pz]$ on the distance $r$ from $p$.
Since $r$ is small, we can assume that 
\[\mangle\hinge pxz+\eps>\angk{p}{\bar x}{\bar z}.\]

Take a midpoint $m$ of $[\bar x\bar y]$.
By Alexandrov's lemma (\ref{lem:alex})
\[\angk{p}{\bar x}{m},\quad \angk{p}{m}{\bar z}\le \tfrac12\cdot \angk{p}{\bar x}{\bar z}.\]
By comparison
\[\angk{p}{\bar x}{m}\ge \mangle\hinge p{\bar x}{m}
\quad\text{and}\quad
\angk{p}{\bar z}{m}\ge \mangle\hinge p{\bar z}{m}.
\]
Whence \ref{eq:dir-mid} holds for the direction $\mu$ of $[pm]$.

\parbf{Exercise~\ref{ex:unique-geod=CAT}.}
Assume $\spc{P}$ is not $\CAT(0)$.
Then by \ref{thm:PL-CAT}, a link $\Sigma$ of some simplex contains a closed geodesic $\alpha$ with length $4\cdot\ell<2\cdot\pi$.
We can assume that $\Sigma$ has minimal possible dimension;
so, by \ref{thm:PL-CAT}, $\Sigma$ is locally $\CAT(1)$.

Divide $\alpha$ into two equal arcs $\alpha_1$ and $\alpha_2$.

Assume $\alpha_1$ and $\alpha_2$ are length minimizing;
parameterize them by $[-\ell,\ell]$.
Fix a small $\delta>0$ and 
consider two curves in $\Cone\Sigma$ written in polar coordinates as 
\[\gamma_i(t)=(\alpha_i(\arctan \tfrac t\delta),\sqrt{\delta^2+t^2}).\]
Observe that both curves $\gamma_1$ and $\gamma_2$ are geodesics in $\Cone\Sigma$ and  have common ends.

Observe that a small neighborhood of the tip of $\Cone\Sigma$ admits an isometric embedding into~$\spc{P}$.
Hence we can construct two geodesics $\gamma_1$ and $\gamma_2$ in $\spc{P}$ with common endpoints.

It remains to consider the case when $\alpha_1$ (and therefore $\alpha_2$) is not length minimizing.

Pass to its maximal length minimizing arc $\bar\alpha_1$ of $\alpha_1$.
Since $\Sigma$ is locally $\CAT(1)$, \ref{cor:discrete-paths} implies that 
there is another geodesic $\bar\alpha_2$ in $\Sigma_p$ that shares endpoints with $\bar\alpha_1$.
It remains to repeat the above construction for the pair $\bar\alpha_1$, $\bar\alpha_2$.


\parit{Remark.}
By \ref{ex:CAT-geodesic}, the given condition is a necessary and sufficient.

\parbf{Exercise~\ref{ex:flag>=pi/2}.}
Use induction on the dimension  to prove that if in a spherical simplex $\triangle$ every edge is at least $\tfrac\pi2$, then 
all dihedral angles of $\triangle$ are at least~$\tfrac\pi2$.

The rest of the proof goes along the same lines as the proof of the flag condition (\ref{thm:flag}).
The only difference is that a geodesic may spend time \emph{at least} $\pi$ on each visit to $\Star_v$.

\parit{Remark.}
Note that it is not sufficient to assume only that the all dihedral angles of the simplices are at least~$\tfrac\pi2$. 
Indeed, the two-dimensional sphere with removed interior of a small rhombus is a spherical polyhedral space glued from four triangles with all the angles at least~$\tfrac\pi2$.
On the other hand the boundary of the rhombus is closed local geodesic in this space.
Therefore the space cannot be $\CAT(1)$.

\parbf{Exercise~\ref{ex:tree}.}
The space $\spc{T}_n$ has a natural cone structure with the vertex formed by the  completely degenerate tree --- all its edges have zero length.

Note that the space $\Sigma$
over which the cone is taken comes naturally with a triangulation 
with all-right spherical simplicies.
Each simplex corresponds to a combinatorics of a possibly degenerate tree.

Note that the link of any simplex of this triangulation satisfies the no-triangle condition (\ref{def:flag}).
Indeed, fix a simplex $\triangle$ of the complex;
suppose it is described by a possibly degenerate topological tree $t$.
A triangle in the link of  $\triangle$ can be described by three ways to resolve a degeneracy of $t$ by adding one edge,
such that (1) any pair of these resolutions can be done simultaneously, but (2) all three cannot be done simultaneously.
Direct inspection shows that this is impossible.

Therefore, by Proposition~\ref{prop:no-trig} our complex is flag.
It remains to apply the flag condition (\ref{thm:flag}), and then \ref{ex:cone+susp}.

\parbf{Exercise~\ref{ex:flag-aspherical}.}
If the complex $\mathcal{S}$ is flag, then its cubical analog $\square_{\mathcal{S}}$ is locally $\CAT(0)$ and therefore aspherical.

Assume now that the complex $\mathcal{S}$ is not flag. 
Extend it to a flag complex $\mathcal{T}$ by gluing a simplex in every clique (that is, a complete subgraph) of its one-skeleton.

Note that the cubical analog $\square_{\mathcal{S}}$ is a proper subcomplex in $\square_{\mathcal{T}}$.
Since $\mathcal{T}$ is flag,
$\tilde\square_{\mathcal{T}}$,
the universal cover of $\square_{\mathcal{T}}$, is $\CAT(0)$.
Let $\tilde\square_{\mathcal{S}}$ be the inverse image of $\square_{\mathcal{S}}$ in $\tilde\square_{\mathcal{T}}$.

Choose a cube $Q$ with minimal dimension in $\tilde\square_{\mathcal{T}}$ which is not present in $\tilde\square_{\mathcal{S}}$.
By Exercise~\ref{ex:locally-convex}, $Q$ is a convex set in $\tilde\square_{\mathcal{T}}$.
The closest point projection $\tilde\square_{\mathcal{T}}\to Q$ is a retraction.
It follows that the boundary $\partial Q$ is not contractible in $\tilde\square_{\mathcal{T}}\backslash\Int Q$.
Therefore the spheroid $\partial Q$ is not contractible in $\tilde\square_{\mathcal{S}}$.
That is, a covering of $\square_{\mathcal{S}}$ is not aspherical and therefore $\square_{\mathcal{S}}$ is not as well.

\parbf{Exercise~\ref{ex:example-pi_infty-new}.}
The solution goes along the same lines as the proof of Lemma~\ref{lem:example-pi_infty}, but few changes are needed.

The cycle $\gamma$ is taken in the complement $\mathcal{S}\backslash\{v\}$ (or, alternatively, in the link of $v$ in $\mathcal{S}$).
Instead of a vertex, one has to take edge $e$ in $\tilde Q$ that corresponds to $v$; so we show existence of large cycle in $\tilde Q$ that is not contractible in $\tilde Q\backslash e$.
The last change is not principle:
it is more visual to think that $G$ is made from the squares parallel to the squares of the cubical complex which meet the edges of the complex orthogonally at their midpoints (in this case formally speaking $G$ is not a subcomplex of the cubical analog).

\parbf{Exercise~\ref{ex:cube-infty=>cube-2}}; \ref{SHORT.cube-infty}$\Rightarrow$\ref{SHORT.cube-2}.
By \ref{ex:inj=complete-geodesic-contractible:contractible}, $Q$ is contractible.
Therefore the globalization theorem and flag condition (\ref{thm:hadamard-cartan} and \ref{thm:flag}) imply that it is sufficient to show that each link in $Q$ is flag.
Further, by \ref{prop:no-trig} it is sufficient to show that link of each cube in $Q$ satisfies no-triangle condition.

Arguing by contradiction, we can assume that no-triangle condition does not hold at a vertex $v$; that is, a zero-dimensional cube.
In this case $v$ is a vertex of there edges $e_x$, $e_y$, and $e_z$;
each pair of edges belong to one of the squares $s_x$, $s_y$, and $s_z$ with complementary index, but the squares $s_x$, $s_y$, $s_z$ do not belong to one cube.
For higher dimensional cubes we have a product of this configuration with a cube.

\begin{wrapfigure}{r}{25 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-13}
\end{wrapfigure}

Let $m_x$, $m_y$ and $m_z$ be the midpoints of $e_x$, $e_y$, and $e_z$ correspondingly.
Consider 3 balls with centers $m_x$, $m_y$ and $m_z$ and radius $\tfrac14$.
Observe that each pair of balls have a common point;
but all three together have no points of intersection.
By \ref{thm:injective=hyperconvex:balls}, the latter implies that $(Q,\ell^\infty)$ is not an injective space --- a contradiction.


\parit{\ref{SHORT.cube-1}$\Rightarrow$\ref{SHORT.cube-2}.}
Observe that median point $m(x,y,z)$ of depends continuously on triple of points $(x,y,z)$ and $m(x,x,y)=x$.

Given a loop $\gamma\:[0,1]\to Q$ with base at $p=\gamma(0)=\gamma(1)$,
consider the map $(a,b)\mapsto m(p,\gamma(a),\gamma(b))$ of the triangle $\triangle$ defined by $0\z\le a \z\le b\z\le 1$.
Note that boundary of triangle runs along $\gamma$.
It follows that $\gamma$ is null homotopic and therefore $Q$ is simply connected.

\begin{wrapfigure}{r}{25 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-15}
\end{wrapfigure}

It remains to check that all links of $Q$ satisfy no-triangle condition.

Assume that a link of $Q$ does not satisfy the no-triangle condition.
The same way as in the previous problem, we can assume that it is a link of a vertex;
so we have a configuration of three squares $s_x$, $s_y$, and $s_z$, 
three edges $e_x$, $e_y$, and $e_z$, and one common vertex $v$ as above.
Observe that the centers $x$, $y$, and $z$ of the squares $s_x$, $s_y$, and $s_z$.
Observe that that the geodesics $[xy]_{\ell^1}$, $[xz]_{\ell^1}$, and $[yz]_{\ell^1}$ are uniquely defined and they have no common point.
It follows that the triple $(x,y,z)$ does not have a median; 
that is, $(Q,\ell^1)$ is not a median space --- a contradiction.


\parbf{Exercise~\ref{ex:hemisphere}.}
Let $\alpha$ be a closed curve in $\mathbb{S}^2$ of length $2\cdot\ell$.

Assume $\ell<\pi$.
Let $\alpha_1$ be a subarc of $\alpha$ of length $\ell$, with endpoints $p$ and~$q$. 
Since $\dist{p}{q}{}\le\ell<\pi$, there is a unique geodesic $[pq]$ in~$\mathbb{S}^2$.  
Let $z$ be the midpoint of $[pq]$. 

We claim that $\alpha$ lies in the open hemisphere $H$ centered at~$z$.  

Assume the contrary; that is, $\alpha$ meets the equator $\partial H$ at a point $r$.
Without loss of generality we may assume that $r\in\alpha_1$.

\begin{wrapfigure}{r}{30 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-17}
\end{wrapfigure}

The arc $\alpha_1$ together with its reflection $\alpha_1^*$ in $z$ form a closed curve of length $2\cdot \ell$ which meets $r$ and its antipodal point~$r'$.
Thus 
\[\ell\z=\length \alpha_1\ge \dist{r}{r'}{}=\pi\] 
--- a contradiction.

\parit{Solution with the Crofton formula.}
Let $\alpha$ be a closed curve in  $\mathbb{S}^2$ of length $\le 2\cdot\pi$.  We wish to prove that $\alpha$ is contained in a hemisphere in~$\mathbb{S}^2$.
By approximation it suffices to prove this for  smooth curves $\alpha$ of length $< 2\cdot\pi$ with transverse self-intersections. 

Given $v\in \mathbb{S}^2$, denote by $v^\perp$ the equator in $\mathbb{S}^2$ with the pole at~$v$.
Further, $\# X$ will denote the number of points in the set~$X$.

Obviously,  if $\#(\alpha\cap v^\perp) =0$, then $\alpha$ is contained in one of the hemispheres determined by~$v^\perp$. 
Note that $\#(\alpha\cap v^\perp)$ is even for almost all~$v$.

Therefore, if $\alpha$ does not lie in a hemisphere, then
$\#(\alpha\cap v^\perp) \ge 2$ for almost all $v\in\mathbb{S}^2$.  

By the Crofton formula we have that
\begin{align*}
\length(\alpha)
&=\frac 1 4\cdot \int\limits_{\mathbb{S}^2}\#(\alpha\cap v^\perp)\cdot d_v\area\ge
\\
&\ge2\cdot\pi.
\end{align*}

\parbf{Exercise~\ref{ex:inner-support}.}
Since  $\Omega$ is not two-convex, 
we can choose a simple closed curve $\gamma$ that lies in the intersection of a plane $W_0$ and $\Omega$, 
and is contractible in $\Omega$ but not contractible in $\Omega\cap W_0$.

\begin{wrapfigure}{r}{45 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-19}
\end{wrapfigure}

Let $\phi\:\DD\to \Omega$ be a disc that  shrinks~$\gamma$.
Applying the loop theorem (arguing as in the proof of Proposition~\ref{prop:3d-strong-2-convexity}), we can assume that $\phi$ is an embedding and $\phi(\DD)$ lies on one side of~$W_0$.

Let $Q$ be the bounded closed domain cut from $\EE^3$ by $\phi(\DD)$ and~$W_0$. 
By assumption it contains a point that is not in~$\Omega$. 
Changing $W_0,\gamma$ and $\phi$ slightly, we can assume that such a point lies in the interior of~$Q$.

Fix a circle $\Gamma$ in $W_0$ that  surrounds $Q\cap W_0$.
Since $Q$ lies in a half-space with boundary $W_0$, there is a
smallest spherical dome with boundary $\Gamma$ that  includes the set $R=Q\backslash\Omega$.

The dome has to touch $R$ at some point~$p$.
The plane $W$ tangent to the dome at $p$ has the required property --- the point $p$ is an isolated point of the complement $W\backslash \Omega$.
Further, by construction a small circle around $p$ in $W$ is contractible in $\Omega$.

\parbf{Exercise~\ref{ex:convex+saddle+broken=>PL}.}
The proof is simple and visual, but it is hard to write it formally in a non-tedious way.

\medskip

Consider the surface $\bar S$ 
formed by the closure of the remaining part $S$ of the boundary.
Note that the boundary $\partial S$ of $\bar S$ is a collection of closed polygonal lines.

Assume $\bar S$ is not piecewise linear.
Show that there is a line segment $[pq]$ in $\EE^3$ that is tangent to $\bar S$ at some point $p$ and    has no common points with $\bar S$ except~$p$.


\begin{wrapfigure}{r}{35 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-21}
\end{wrapfigure}

Since $\bar S$ is locally concave,
there is a local inner supporting plane $\Pi$ at $p$ that contains the segment $[pq]$.

Show that $\Pi\cap \bar S$ contains a segment $[xy]\z\ni p$ with the ends in $\partial \bar S$.
Denote by $\Pi^+$ the half-plane in $\Pi$ that contains $[pq]$ and has $[xy]$ in its boundary.

Use the fact that $[pq]$ is tangent to $S$ to show that there is a point $z\in\partial \bar S$ such that the line segment $[xz]$ or $[yz]$ lies in $\partial \bar S\cap\Pi^+$.
 

From the latter statement and local convexity of $\bar S$, 
it follows that the solid triangle $[xyz]$ lies in~$\bar S$.
In particular, all points on $[pq]$ sufficiently close to $p$ lie in $\bar S$ --- a contradiction.

\parbf{Exercise~\ref{ex:besikovitch=}.}
Let us use the same notation as in the proof of \ref{thm:besikovitch}.

Consider the map $s\:x\mapsto(\distfun_A(x),\distfun_B(x))$.
From the proof of \ref{thm:besikovitch} we get that $\Im s\supset \square$.
Observe that in the case of equality we have that $\Im s= \square$.
Indeed,
the same argument shows that 
\[\vol(s^{-1}(\square),g)\ge \vol\square=1.\]
The set $s^{-1}(\RR^1\backslash \square)$ is an open subset of $\square$.
If it is nonempty, then it has positive volume.
In this case
\[\vol(\square,g)>\vol(s^{-1}(\square),g)\ge 1\]
--- a contradiction.

Summarizing above discussion, there is a geodesic path of $g$-length $1$ connecting a point on one face of cube to the opposite face.

Moreover, for any pair of opposite faces and a point $p\in\square$, there is a geodesic path of $g$-length $1$ from one face to the other that pass thru $p$.
The latter can be shown by cutting $\square$ into two rectangles by a level surface of $\distfun_A$ thru $p$,
applying the above statement to both rectangles and taking the concatination of the obtained geodesic paths with end at $p$.
(The level surface might cut a rectangle with some topology, so have to apply \ref{thm:besikovitch+} instead of \ref{thm:besikovitch}).

Let $\gamma$ be such geodesic path from $A$ to $A'$.
Observe that $\gamma'(t)\z=\nabla_{\gamma(t)}\distfun_A$.
Therefore $\distfun_A$ is differentiable at every point $p\in \square$.
It follows that the map $s$ is differentiable.

Further checking the equality case in each inequality in the proof of \ref{thm:besikovitch}, we get that $s$ is a bijection and the equalities
\[|d_{p}\distfun_A|= 1,\quad|d_{p}\distfun_B|=1,\quad \text{and}\quad \langle d_{p}\distfun_A,d_{p}\distfun_B\rangle= 0\]
hold for almost all $p\in\square$.
Since $d_{p}\distfun_A$ and $d_{p}\distfun_B$ are well defined, we get that the equalities hold everywhere.
That is $s$ is an isometry.

\begin{wrapfigure}{r}{45 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-27}
\end{wrapfigure}

\parbf{Exercise~\ref{ex:hexagon}.}
Consider the hexagon with flat matric and curved sides shown on the diagram.
Observe that its area can be made arbitrary small while keeping the distances from the opposite sides at least 1.

\parbf{Exercise~\ref{ex:gadograph}.}
Without loss of generality, we may assume that $V$ lies in a unit cube $\square$.
Consider a noncontinuous metric tensor $\bar g$ on $\square$ that coincides with $g$ inside $V$ and with the canonical flat metric tensor outside of $V$.

Observe that the $\bar g$-distances between opposite faces of $\square$ are at least 1.
Indeed this is true for the Euclidean metric and the assumption $\dist{p}{q}{g}\ge\dist{p}{q}{\EE^d}$  guarantees that one can not make a shortcut in~$V$.
Therefore the $\bar g$-distances between every pair of opposite faces is at least as large as 1 which is the Euclidean distance.

This metric tensor $\bar g$ is not continuous at $\Sigma$, but the same argument as in \ref{thm:besikovitch} can be applied to show that $\vol(\square,\bar g)\ge \vol\square$.
Whence the statement follows.


\parbf{Exercise~\ref{ex:sysT2}.}
Set $s=\sys(\TT^2,g)$.

Cut $\TT^2$ along a shortest closed noncontractible curve $\gamma_1$.
We get an anulus with a Riemnnian metric on it $(N,g)$.
Denote by $A$ and $A'$ the two components of its boundary.

Assume that $\gamma_2$ is a shortest path that runs from $A$ to $A'$ in $(N,g)$.
The image of $\gamma_2$ in $\TT^2$ connects two points in $\gamma_1$;
further we will use the same notation for $\gamma_2$ and its image in $\TT^2$.
Connect $\gamma_2(0)$ to $\gamma_2(1)$ by a shorter arc in $\gamma_1$.
Note that the obtained closed curve is noncontractible in $\TT^2$.
Therefore its length is at least $s$.
The arc of $\gamma_1$ has length at most half of $\length\gamma_1$.
Whence $\length \gamma_2\ge \tfrac s2$.
In particular the distance from $A$ to $A'$ in $(N,g)$ is at least $\tfrac s2$.

\begin{wrapfigure}{r}{45 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-23}
\end{wrapfigure}

Let us cut $(N,g)$ by $\gamma_2$, we obtain a square $(\square,g)$ with Riemnnian metric on it.
Let us keep the notation $A$ and $A'$ for the pair of opposite sides in $(\square,g)$ that correspond to $A$ and $A'$ in $(N,g)$.
From above we have that distance from $A$ to $A'$ is at least $\tfrac s2$.

Denote by $B$ and $B'$ the remaining pair of opposite sides $(\square,g)$.
Suppose that $\gamma_3$ is a path connecting these sides.
Map it the curves $\gamma_i$ back to the torus and let us keep for them the same notation.
The path $\gamma_3$ connects two points on $\gamma_2$.
Since $\gamma_2$ is shortest, the arc of $\gamma_2$ between this pair of points can not be longer than $\gamma_3$.
This arc together with $\gamma_3$ forms a closed noncontractible curve, so its length has to be at least $s$.
It follows that $\length\gamma_3\ge \tfrac s2$.
That is distance from $B$ to $B'$ in  $(\square,g)$ is at least $\tfrac s2$.

Applying Besikovitch inequality, we get that 
\[\area(\TT^2,g)=\area(\square,g)\ge \tfrac14\cdot s^2.\]

\parit{Comment.}
Alternatively one may notice that any curve in $(N,g)$ that is bordant to $A$ has length at least $\tfrac s2$.
Therefore the level sets defined by $\distfun_A(x)_{(N,g)}=t$ have length at least $\tfrac s2$ if $0\le t\le \tfrac s2$.
Applying coarea fromula we get that
\[\area(\TT^2,g)=\area(N,g)\ge \tfrac12\cdot s^2.\]
This estimate is twice better then the one above, but it is still far from the optimal bound $\tfrac2{\sqrt{3}}\cdot s^2$ in proved by Loewner inequality

\begin{wrapfigure}{r}{44 mm}
\vskip-4mm
\centering
\includegraphics{mppics/pic-25}
\end{wrapfigure}

\parbf{Exercise~\ref{ex:sysRP2}.}
Set $s\z=\sys (\RP^2,g)$.
Cut $(\RP^2,g)$ along a shortest noncontractible curve $\gamma$.
We obtain $(\DD^2,g)$ --- a disc with metric tensor which we still denote by $g$.
Divide $\gamma$ into two equal arcs $\alpha$ and $\beta$.
Denote by $A$ and $A'$ the two connected components of the inverse image of $\alpha$.
Similarly denote by $B$ and $B'$ the two connected components of the inverse image of $\beta$.

Let $\gamma_1$ be a path from $A$ to $A'$;
map it to $\RP^2$ and keep the same notation for it.
Note that $\gamma_1$ together with a subarc of $\alpha$ forms a closed noncontractible curve in $\RP^2$.
Since $\length\alpha=\tfrac s2$, we have that $\length\gamma_1\ge \tfrac s2$.
It follows that the distance between $A$ and $A'$ in $(\DD^2,g)$ is at least $\tfrac s2$.
The same way we show that the distance between $B$ and $B'$ in $(\DD^2,g)$ is at least $\tfrac s2$.

Note that $(\DD^2,g)$ can be paraneterized by a square with sides $A$, $B$, $A'$ and $B'$ and apply \ref{thm:besikovitch} to show that 
\[\area(\RP^2,g)=\area(\DD^2,g)\ge \tfrac14\cdot s^2.\]

\parit{Comment.}
For the optimal constant was found by Pao Ming Pu see the discussion on page \pageref{page:pu}.
His proof shows that any Riemannian metric on the disc with the boundary globally isometric to a unit circle with angle metric has area at least as large as the unit hemisphere.
It is expected that the same inequality holds for any compact surface bounded by a single curve (not necessary a disc);
this is the so called the \emph{filling area conjecture} mentioned in \cite[5.5.B$'$(e$'$)]{gromov-1983}.

\parbf{Exercise~\ref{ex:sysSg}.} Cut the surface along a shortest noncontractible curve $\gamma$. 
We might get a surface with one or two components of the boundary.
In these two cases repeat the arguments in \ref{ex:sysRP2} or \ref{ex:sysT2} using \ref{thm:besikovitch+} instead of \ref{thm:besikovitch}.


\parbf{Exercise~\ref{ex:sysS2xS1}.} Consider the product of small 2-sphere with a unit circle.

\parbf{Exercise~\ref{ex:fillrad<diam/2}.} 
As usual we consider $\spc{M}$ as a subset of $\ell^\infty(\spc{M})$;
more precisely we identify $\spc{M}$ with its image under the map  $x\mapsto \distfun_x$.
Set 
\[R=\tfrac12\cdot\diam\spc{M}.\]

Consider point $p$ in $\ell^\infty(\spc{M})$ that corresponds to the constant function $p(x)=R$.
Since $0\le \distfun_x(z)\le  2\cdot R$ and $0=\distfun_x(x)$, we get that
\[\sup\set{|p(z)-\distfun_x(z)|}{z\in\spc{M}}=R.\]
In other words, the point $p\in \ell^\infty(\spc{M})$ lies on distance $R$ from any point on $\spc{M}\subset \ell^\infty(\spc{M})$.

The linear homotopy $h_t\:\spc{M}\to \ell^\infty(\spc{M})$ defined by
\[h_t(x)=(1-t)\cdot x+t\cdot p\]
contracts $\spc{M}$ to the point $p$.
Note that $\dist{h_t(x)}{x}{\ell^\infty(\spc{M})}\le R$ for any $t\in[0,1]$.
In particular the fundamental class of $\spc{M}$ bounds in the closed $R$-neighborhood of $\spc{M}$ in $\ell^\infty(\spc{M})$.
Whence the statement follows.

\parbf{Exercise~\ref{ex:fillrad-inj}.} 
Choose $R>\FillRad(\spc{M})$.
Fix small $\eps>0$ and set $R'=R+\eps$.

Let $\sigma\:W\to \ell^\infty(\spc{M})$ be a map of a simplicial complex as in the proof of \ref{thm:sys<FillRad}.
That is, the restriction $\sigma|_{\partial W}$
represents the fundamental class $[\spc{T}]$ of $\spc{T}$,
the image $\sigma(W)\subset B_{R}(\spc{T})$,
and $\sigma$-image of any simplex in $W$ has diameter less then $\eps>0$.

We may assume that vertexes of $W$ can be divided into $n+2$ levels, say $0,1,\dots,n+1$, so that each simplex has vertexes of different levels.
This can be achieved by applying barycentric subdivision once.
Indeed every vertex in the barycentric subdivision corresponds to a simplex in the original triangulation; so we can define level as the dimension of the corresponding simplex.

Let us map each vertex $v$ of $W$ to a point in $\spc{M}$ closest to $\sigma(v)$; it defines the map on the 0-skeleton $W^0$.

To extend the map to the higher skeletons we will apply the following \emph{cone construction}.
Suppose the map is defined on the base $\triangle_v$ of a simplex $\triangle$ and the opposite vertex $v$.
Note that every point $x$ of $\triangle$ lies on a line segment $[vy]$ with $y\in \triangle_v$, say $x=(1-t)\cdot v+t\cdot y$.
If $f(\triangle_v)$ lies on the distance less than $r$ from $f(v)$,
then $f(v)$ is connected to $f(y)$ by a uniqe geodesic path $\gamma_y\:[0,1]\to \spc{M}$ that depends continuously on $y$.
In this case we can set $f(x)=\gamma_y(t)$.

We have to arrange the construction in such a way that the simplexes will fit together and to make sure that the image of tha base is $r$-far from the vertex.

To do so let us apply the the cone construction to the edges between 1-level vertex $v_1$ to the 0-level base $v_0$.
This way we mapped the edge $[v_1v_0]$ to a geodesic path shorter than $2\cdot R'$.
(If $2\cdot R'<r$, then it is unique, but it is not yet important.)
It defines the map on all edges of $W$ between vertexes on level $0$ and $1$.

Now let us extend the map to each triangle with vertex $v_2$ on level 2 and base edge $[v_1v_0]$ with vertexes of level 1 and 0.
The $f$image of the base has length less than $2\cdot R'$ 
and the distance from $f(v_2)$ to $f(v_1)$ and $f(v_0)$ is also less than $2\cdot R'$.
Therefore for every $y\in [v_1v_0]$, we have $\dist{f(v)}{f(y)}{\spc{M}}<3\cdot R'$.
So if $3\cdot R'<r$, then we can apply cone construction to extend the map to each triangle with level of the vertexes $0,1,$ and $2$.

Further let us extend the map to each triangle with vertex $v_3$ on level 3 and base edge $\triangle$ with vertexes $v_0,v_1,v_2$ of level 0,1, and 2.
Any point $x$ in the base lies in a triangle with vertexes $v_3,v_2$ and a point $z$ on the edge $[v_0v_1]$.
From above we have that $\dist{f(v_3)}{f(z)}{\spc{M}}<3\cdot R'$, $\dist{f(v_2)}{f(z)}{\spc{M}}<3\cdot R'$, and $\dist{f(v_3)}{f(v_2)}{\spc{M}}<2\cdot R'$,
By triangle inequality $\dist{f(v_3)}{f(x)}{\spc{M}}<4\cdot R'$.
Therefore, if $4\cdot R'<r$ we can extend $f$ to each triangle with the levels of vertexes $0,1,$ and $2$.

Continuing this way we get that we can extend the map to whole $W$ if 
$(n+1)\cdot R'<r$.
In this case the fundamental class of $\spc{M}$ bounds in $\spc{M}$  which is not possible.
That is, $(n+1)\cdot R'\ge r$; since $\eps>0$ and $R>\FillRad \spc{M}$ are arbitrary, we get
\[\FillRad \spc{M}\ge r.\]

